"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[217],{3217:(O,m,n)=>{n.r(m),n.d(m,{OrderappBackofficeFeatureCategoryManageComponent:()=>T});var d=n(6814),g=n(7787),c=n(9347),p=n(3177),y=n(3143),a=n(6223),t=n(9212),l=n(4221);function h(o,s){if(1&o&&(t.TgZ(0,"option",11),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function C(o,s){if(1&o&&(t.TgZ(0,"div")(1,"select",9),t.YNc(2,h,2,2,"option",10),t.qZA()()),2&o){const e=s.ngIf;t.xp6(2),t.Q6J("ngForOf",e)}}function v(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Adding.... "),t.qZA())}const A=o=>({"bg-green-400":o});function Z(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addCategory())}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!e.categoryAddForm.valid)("ngClass",t.VKq(3,A,e.categoryAddForm.valid)),t.xp6(1),t.hij(" ",e.data&&e.data.category?"UPDATE":"ADD"," ")}}let f=(()=>{class o{constructor(e,r,i){this.store=e,this.data=r,this.dialogRef=i,this.selectKitchens$=this.store.select(y.AM),this.selectAddCategoryIndicator$=this.store.select(g.oZ),this.categoryAddForm=new a.cw({name:new a.NI("",{validators:[a.kI.required]}),kitchenId:new a.NI("",{validators:[a.kI.required]}),categoryCode:new a.NI("",{validators:[a.kI.required]}),color:new a.NI("",{validators:[a.kI.required]})})}ngOnInit(){const e=this.data?.category;console.log("kitchen t edit",e),e&&this.categoryAddForm.patchValue(e)}addCategory(){if(this.categoryAddForm.valid)if(this.data&&this.data.category)this.store.dispatch((0,g.ht)({categoryId:this.data.category.id,category:this.categoryAddForm.value}));else{const e={...this.categoryAddForm.value};this.store.dispatch((0,g.i8)({category:e}))}}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(l.yh),t.Y36(c.WI),t.Y36(c.so))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["hotel-orderapp-category-feature-add"]],standalone:!0,features:[t.jDz],decls:16,vars:8,consts:[[1,"p-2"],[1,"font-semibold","pb-2"],[1,"grid","grid-cols-1","gap-2","max-w-md",3,"formGroup"],["type","text","formControlName","name","placeholder","Category Name",1,"w-full","border","p-2"],[4,"ngIf"],["type","text","placeholder","Category Code","formControlName","categoryCode",1,"w-full","border","p-2"],["ngx-colors-trigger","","formControlName","color",2,"display","inline-block","margin","5px"],[4,"ngIf","ngIfElse"],["addNew",""],["name","printer","id","pritner","formControlName","kitchenId",1,"p-2","border","w-full"],["class","p-2",3,"value",4,"ngFor","ngForOf"],[1,"p-2",3,"value"],["type","submit",1,"bg-gray-700","text-white","rounded-full","py-1",3,"disabled","ngClass","click"]],template:function(r,i){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Add a Category"),t.qZA(),t.TgZ(3,"form",2)(4,"div"),t._UZ(5,"input",3),t.qZA(),t.YNc(6,C,3,1,"div",4),t.ALo(7,"async"),t.TgZ(8,"div"),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"div"),t._UZ(11,"ngx-colors",6),t.qZA(),t.YNc(12,v,2,0,"div",7),t.ALo(13,"async"),t.YNc(14,Z,2,5,"ng-template",null,8,t.W1O),t.qZA()()),2&r){const u=t.MAs(15);t.xp6(3),t.Q6J("formGroup",i.categoryAddForm),t.xp6(3),t.Q6J("ngIf",t.lcZ(7,4,i.selectKitchens$)),t.xp6(6),t.Q6J("ngIf",t.lcZ(13,6,i.selectAddCategoryIndicator$))("ngIfElse",u)}},dependencies:[d.ez,d.mk,d.sg,d.O5,d.Ov,a.UX,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,c.Is,p.To,p.qZ,p.u_]})}return o})();function _(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.TgZ(7,"div",6)(8,"div",11),t.NdJ("click",function(){const u=t.CHM(e).$implicit,I=t.oxw(2);return t.KtG(I.editCategory(u))}),t._uU(9,"edit"),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.categoryCode),t.xp6(2),t.hij(" ",e.kitchen?e.kitchen.name:"no assigned"," ")}}function x(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._uU(2,"Categories"),t.qZA(),t.TgZ(3,"div",4)(4,"div",5),t._uU(5,"Category"),t.qZA(),t.TgZ(6,"div",6),t._uU(7,"Code"),t.qZA(),t.TgZ(8,"div",6),t._uU(9,"Kitchen"),t.qZA(),t.TgZ(10,"div",6),t._uU(11,"Actions"),t.qZA()(),t.YNc(12,_,10,3,"div",7),t.TgZ(13,"div",8)(14,"div",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addCategroy())}),t._uU(15," ADD "),t.qZA()()()}if(2&o){const e=s.ngIf;t.xp6(12),t.Q6J("ngForOf",e)}}let F=(()=>{class o{constructor(e,r){this.store=e,this.dialog=r,this.selectCategories$=this.store.select(g.us)}addCategroy(){this.dialog.open(f,{})}editCategory(e){this.dialog.open(f,{data:{category:e}})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(l.yh),t.Y36(c.uw))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["hotel-orderapp-category-feature-list"]],standalone:!0,features:[t.jDz],decls:3,vars:3,consts:[[1,"bg-gray-100","p-2"],["class","max-w-md mx-auto p-2 grid grid-cols-1 gap-1",4,"ngIf"],[1,"max-w-md","mx-auto","p-2","grid","grid-cols-1","gap-1"],[1,"font-semibold"],[1,"grid","grid-cols-5","p-2"],[1,"col-span-2"],[1,"col-span-1"],["class","grid grid-cols-5 bg-white p-2",4,"ngFor","ngForOf"],[1,"text-right","pl-2"],[1,"bg-green-300","py-1","px-2","text-center","inline-block","rounded-md","cursor-pointer",3,"click"],[1,"grid","grid-cols-5","bg-white","p-2"],[3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t.YNc(1,x,16,1,"div",1),t.ALo(2,"async"),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,i.selectCategories$)))},dependencies:[d.ez,d.sg,d.O5,d.Ov,c.Is]})}return o})(),T=(()=>{class o{constructor(e){this.store=e,this.store.dispatch((0,g.Uy)())}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(l.yh))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["hotel-orderapp-backoffice-feature-category-manage"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(r,i){1&r&&t._UZ(0,"hotel-orderapp-category-feature-list")},dependencies:[d.ez,F,c.Is]})}return o})()}}]);