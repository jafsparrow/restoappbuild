"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[243],{8281:(J,m,c)=>{c.r(m),c.d(m,{OrderappBackofficeFeatureTableManageComponent:()=>q});var d=c(6814),n=c(1646),p=(c(1528),c(9347)),a=c(6223),e=c(9212),f=c(4221);function b(o,i){if(1&o&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function h(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Adding.... "),e.qZA())}function v(o,i){if(1&o&&(e.TgZ(0,"div",8)(1,"select",11),e.YNc(2,b,2,2,"option",12),e.qZA(),e.YNc(3,h,2,0,"div",13),e.ALo(4,"async"),e.qZA()),2&o){const t=i.ngIf,r=e.oxw(),l=e.MAs(20);e.xp6(2),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,3,r.selectTableAddIndicator$))("ngIfElse",l)}}const T=o=>({"bg-green-400":o});function F(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.addTable())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",!t.tableAddForm.valid)("ngClass",e.VKq(3,T,t.tableAddForm.valid)),e.xp6(1),e.hij(" ",t.data&&t.data.table?"UPDATE":"ADD"," ")}}let g=(()=>{class o{constructor(t,r,l){this.store=t,this.data=r,this.dialogRef=l,this.selectFloors$=this.store.select(n.zs),this.selectTableAddIndicator$=this.store.select(n.Vb),this.tableAddForm=new a.cw({name:new a.NI("",{validators:[a.kI.required]}),capacity:new a.NI("",{validators:[a.kI.required]}),floorId:new a.NI("",{validators:[a.kI.required]})})}ngOnInit(){const t=this.data?.table;console.log("kitchen t edit",t),t&&this.tableAddForm.patchValue(t)}addTable(){if(this.tableAddForm.valid)if(this.data&&this.data.table)this.store.dispatch((0,n.T0)({tabledId:this.data.table.id,table:this.tableAddForm.value}));else{const t={...this.tableAddForm.value};this.store.dispatch((0,n.iJ)({table:t}))}}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(f.yh),e.Y36(p.WI),e.Y36(p.so))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hotel-orderapp-table-feature-add"]],standalone:!0,features:[e.jDz],decls:21,vars:4,consts:[[1,"bg-gray-100","p-2"],[1,"mx-auto","grid","max-w-md","gap-2","bg-white","p-2"],[1,"mb-2","font-bold"],[3,"formGroup"],[1,"grid","gap-2"],["for","tableName"],["type","text","formControlName","name",1,"w-full","rounded-md","border","px-2","py-1"],["type","text","formControlName","capacity",1,"w-full","rounded-md","border","px-2","py-1"],[1,""],["class","",4,"ngIf"],["addNew",""],["name","floorName","id","floorName","formControlName","floorId",1,"w-full","rounded-md","border","px-2","py-1"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"value"],["type","submit",1,"bg-gray-700","text-white","py-1","px-2","rounded-md","mt-3","w-full",3,"disabled","ngClass","click"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Add a Table"),e.qZA(),e.TgZ(4,"form",3)(5,"div",4)(6,"label",5),e._uU(7,"Table Name"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",5),e._uU(11,"Capacity"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",4)(14,"div",8)(15,"label",5),e._uU(16,"Floor Name"),e.qZA(),e.YNc(17,v,5,5,"div",9),e.ALo(18,"async"),e.YNc(19,F,2,5,"ng-template",null,10,e.W1O),e.qZA()()()()()),2&r&&(e.xp6(4),e.Q6J("formGroup",l.tableAddForm),e.xp6(13),e.Q6J("ngIf",e.lcZ(18,2,l.selectFloors$)))},dependencies:[d.ez,d.mk,d.sg,d.O5,d.Ov,a.UX,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u]})}return o})();function x(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Adding...."),e.qZA())}const A=o=>({"bg-green-400":o});function Z(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.addFloor())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",!t.floorAddForm.valid)("ngClass",e.VKq(3,A,t.floorAddForm.valid)),e.xp6(1),e.hij(" ",t.data&&t.data.floor?"UPDATE":"ADD"," ")}}let _=(()=>{class o{constructor(t,r,l){this.store=t,this.data=r,this.dialogRef=l,this.selectAddFloorIndicator$=this.store.select(n.Jl),this.floorAddForm=new a.cw({name:new a.NI("",{validators:[a.kI.required]})})}ngOnInit(){const t=this.data?.floor;console.log("floor t edit",t),t&&this.floorAddForm.patchValue(t)}addFloor(){if(this.floorAddForm.valid)if(this.data&&this.data.floor)this.store.dispatch((0,n.iN)({floorId:this.data.floor.id,floor:this.floorAddForm.value}));else{const t={...this.floorAddForm.value};this.store.dispatch((0,n.qq)({floor:t}))}}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(f.yh),e.Y36(p.WI),e.Y36(p.so))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hotel-orderapp-table-feature-floor-add"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:[[1,"bg-gray-100","p-5","text-sm",3,"formGroup"],[1,"font-bold"],[1,"grid","gap-2"],["for","tableName"],["type","text","formControlName","name",1,"w-full","rounded-md","border","px-2","py-1"],[4,"ngIf","ngIfElse"],["addNew",""],["type","submit",1,"bg-gray-700","w-full","my-5","text-white","rounded-full","py-1",3,"disabled","ngClass","click"]],template:function(r,l){if(1&r&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2,"Floor Detail Form"),e.qZA(),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"Floor Name"),e.qZA(),e._UZ(6,"input",4),e.qZA(),e.YNc(7,x,2,0,"div",5),e.ALo(8,"async"),e.YNc(9,Z,2,5,"ng-template",null,6,e.W1O),e.qZA()),2&r){const s=e.MAs(10);e.Q6J("formGroup",l.floorAddForm),e.xp6(7),e.Q6J("ngIf",e.lcZ(8,3,l.selectAddFloorIndicator$))("ngIfElse",s)}},dependencies:[d.ez,d.mk,d.O5,d.Ov,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return o})();const y=o=>({"bg-yellow-400":o});function C(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.ALo(1,"async"),e.TgZ(2,"div",11),e.NdJ("click",function(){const s=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.findTables(s.id))}),e._uU(3),e.qZA(),e.TgZ(4,"div",12),e.NdJ("click",function(){const s=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.editFloor(s))}),e._uU(5," | "),e.qZA()()}if(2&o){const t=i.$implicit,r=e.oxw(2);e.Q6J("ngClass",e.VKq(4,y,t.id===e.lcZ(1,2,r.selectedFloorId$))),e.xp6(3),e.Oqu(t.name)}}function I(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",7),e.YNc(1,C,6,6,"div",8),e.TgZ(2,"div",9),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.addFloor())}),e._uU(3," ADD FLOOR "),e.qZA()()}if(2&o){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function O(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",15)(2,"div",16),e._uU(3),e.qZA(),e.TgZ(4,"div",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.editTable(s))}),e._uU(5," | "),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(3),e.hij("TABLE - ",t.name,"")}}function w(o,i){if(1&o&&(e.TgZ(0,"div",13),e.YNc(1,O,6,1,"div",14),e.ALo(2,"async"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.selectTables$))}}function N(o,i){1&o&&(e.TgZ(0,"div",18),e._uU(1,"Loading..."),e.qZA())}let k=(()=>{class o{constructor(t,r){this.store=t,this.dialog=r,this.selectFloors$=this.store.select(n.zs),this.selectTableLoadIndicator$=this.store.select(n.W6),this.selectTables$=this.store.select(n.LR),this.selectedFloorId$=this.store.select(n.Uz),this.productAddForm=new a.cw({name:new a.NI("",{validators:[a.kI.required]})})}findTables(t){this.store.dispatch((0,n.EI)({floorId:t}))}addTable(){this.dialog.open(g,{})}editTable(t){this.dialog.open(g,{data:{table:t}})}addFloor(){this.dialog.open(_,{})}editFloor(t){this.dialog.open(_,{data:{floor:t}})}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(f.yh),e.Y36(p.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hotel-orderapp-table-feature-list"]],standalone:!0,features:[e.jDz],decls:13,vars:7,consts:[[1,"p-4"],[1,"font-bold"],["class","flex flex-row flex-wrap gap-3 overflow-x-scroll py-2",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-8 gap-4 p-2",4,"ngIf","ngIfElse"],[1,"text-right","px-2"],[1,"bg-gray-700","text-white","py-1","hover:bg-gray-600","px-2","text-center","cursor-pointer","rounded-md","inline-block",3,"click"],["loading",""],[1,"flex","flex-row","flex-wrap","gap-3","overflow-x-scroll","py-2"],["class","min-w-[70px] shrink-0 rounded-full bg-gray-200 px-3 py-1 cursor-pointer flex hover:scale-105",3,"ngClass",4,"ngFor","ngForOf"],[1,"bg-gray-700","text-white","text-center","py-1","px-2","rounded-md","cursor-pointer","hover:bg-gray-600",3,"click"],[1,"min-w-[70px]","shrink-0","rounded-full","bg-gray-200","px-3","py-1","cursor-pointer","flex","hover:scale-105",3,"ngClass"],[3,"click"],[1,"px-2","bg-gray-400","hover:bg-pink-400","rotate-45","rounded-full","ml-2",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-8","gap-4","p-2"],[4,"ngFor","ngForOf"],[1,"sm:aspect-square","rounded-md","border-l-2","border-green-600","p-3","shadow-md","relative"],[1,"text-sm"],[1,"flex","h-8","w-8","items-center","rotate-45","hover:bg-pink-400","justify-center","border","rounded-full","bg-gray-100","p-2","absolute","bottom-1","right-1","cursor-pointer",3,"click"],[1,"h-52","text-center","p-2"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Select Table"),e.qZA(),e.TgZ(3,"div"),e.YNc(4,I,4,1,"div",2),e.ALo(5,"async"),e.YNc(6,w,3,3,"div",3),e.ALo(7,"async"),e.TgZ(8,"div",4)(9,"div",5),e.NdJ("click",function(){return l.addTable()}),e._uU(10," ADD TABLE "),e.qZA()()()(),e.YNc(11,N,2,0,"ng-template",null,6,e.W1O)),2&r){const s=e.MAs(12);e.xp6(4),e.Q6J("ngIf",e.lcZ(5,3,l.selectFloors$)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(7,5,l.selectTableLoadIndicator$))("ngIfElse",s)}},dependencies:[d.ez,d.mk,d.sg,d.O5,d.Ov,p.Is,a.UX]})}return o})(),q=(()=>{class o{constructor(t){this.store=t,this.store.dispatch((0,n.ql)()),this.store.dispatch((0,n.EI)({floorId:1}))}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(f.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hotel-orderapp-backoffice-feature-table-manage"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(r,l){1&r&&e._UZ(0,"hotel-orderapp-table-feature-list")},dependencies:[d.ez,k]})}return o})()}}]);