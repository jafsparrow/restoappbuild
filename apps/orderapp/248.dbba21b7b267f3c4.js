"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[248,293],{4248:(E,C,l)=>{l.r(C),l.d(C,{OrderappCartFeatureCartListComponent:()=>R});var _=l(6814),f=l(8866),m=l(8995),u=l(7850),r=l(9347),e=l(9212),y=l(4221);function w(o,d){1&o&&(e.TgZ(0,"div",3),e._uU(1," Submitting you order please wait..... "),e.qZA())}function F(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"div",5),e._uU(3,"Something wrong hppened"),e.qZA()(),e.TgZ(4,"div",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.tryAgainBtn())}),e._uU(5," TRY AGAIN "),e.qZA()()}}function I(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"div",7),e._uU(3),e.qZA()(),e.TgZ(4,"div",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.goToNextOrder())}),e._uU(5," NEXT ORDER "),e.qZA()()}if(2&o){const t=d.ngIf;e.xp6(3),e.Oqu(t)}}function U(o,d){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,F,6,0,"div",4),e.ALo(2,"async"),e.YNc(3,I,6,1,"div",4),e.ALo(4,"async"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.selectOrderErrorMessage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,t.selectOrderSuccessMessage$))}}let Z=(()=>{class o{constructor(t,i,s){this.store=t,this.router=i,this.dialog=s,this.selectPlaceOrderSpinner$=this.store.select(f.selectPlaceOrderSpinner),this.selectOrderSuccessMessage$=this.store.select(f.selectOrderSuccessMessage),this.selectOrderErrorMessage$=this.store.select(f.selectOrderErrorMessage)}goToNextOrder(){this.store.dispatch((0,m.LL)()),this.dialog.closeAll(),this.router.navigate(["shell","home"])}tryAgainBtn(){this.dialog.closeAll()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(y.yh),e.Y36(u.F0),e.Y36(r.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hotel-orderapp-order-feature-progress"]],standalone:!0,features:[e.jDz],decls:5,vars:4,consts:[[1,"bg-gray-100","border","p-2"],["class","h-40 flex justify-center items-center",4,"ngIf","ngIfElse"],["result",""],[1,"h-40","flex","justify-center","items-center"],[4,"ngIf"],[1,"text-red-400"],[1,"max-w-sm","mx-auto","bg-red-700","text-white","text-center","p-2","rounded-md","mt-2",3,"click"],[1,"text-green-400"],[1,"max-w-sm","mx-auto","bg-gray-700","text-white","text-center","p-2","rounded-md","mt-2","cursor-pointer",3,"click"]],template:function(i,s){if(1&i&&(e.TgZ(0,"div",0),e.YNc(1,w,2,0,"div",1),e.ALo(2,"async"),e.YNc(3,U,5,6,"ng-template",null,2,e.W1O),e.qZA()),2&i){const a=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,s.selectPlaceOrderSpinner$))("ngIfElse",a)}},dependencies:[_.ez,_.O5,_.Ov,u.Bz,r.Is]})}return o})();var x=l(3305),b=l(9213),O=l(8293),k=l(9135),N=l(4625),n=l(6223);let h=(()=>{class o{constructor(t,i,s){this.store=t,this.data=i,this.dialogRef=s,this.key=this.data.key,this.price=this.data.price,this.product=this.data.product}updateCartItemPrice(){console.log("update cartItem clickd"),this.store.dispatch((0,m.O)({key:this.key,price:this.price})),this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(y.yh),e.Y36(r.WI),e.Y36(r.so))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hotel-cart-item-price"]],standalone:!0,features:[e.jDz],decls:9,vars:2,consts:[[1,"p-4"],[1,"text-lg"],[1,"font-semibold","px-2"],["type","text",1,"px-2","py-1","border","rounded-md",3,"ngModel","ngModelChange"],[1,"pt-2","text-center"],[1,"text-center","px-2","py-1","bg-orange-400","rounded-md",3,"click"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Edit Price "),e.TgZ(3,"span",2),e._uU(4),e.qZA()(),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(v){return s.price=v}),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return s.updateCartItemPrice()}),e._uU(8," OK "),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(s.product.name),e.xp6(1),e.Q6J("ngModel",s.price))},dependencies:[_.ez,n.u5,n.Fj,n.JJ,n.On]})}return o})();var c=l(3317);const p=["takeAwayExpansionPanel"];function g(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",null,14)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," Takeaway Info "),e.qZA()(),e.TgZ(5,"hotel-take-away-form",15),e.NdJ("setCartUser",function(s){e.CHM(t);const a=e.oxw(2);return e.KtG(a.setTheUserToCart(s))}),e.qZA()()}if(2&o){const t=e.oxw().ngIf;e.xp6(5),e.Q6J("takeawayUser",t.cartCreatedFor)}}function T(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18),e._uU(2),e.TgZ(3,"span",19),e._uU(4),e.qZA()(),e.TgZ(5,"div",20),e._uU(6),e.qZA(),e.TgZ(7,"div",21)(8,"div",22),e._uU(9),e.qZA(),e.TgZ(10,"div",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.clearCartUser())}),e._uU(11," CLEAR "),e.qZA()()()}if(2&o){const t=d.ngIf;e.xp6(2),e.hij(" ",t.cartCreateFor.userType.toUpperCase()," : "),e.xp6(2),e.Oqu(t.cartCreateFor.firstName),e.xp6(2),e.Oqu(t.cartCreateFor.lastName),e.xp6(3),e.hij(" ",t.runningStatus," ")}}function A(o,d){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,T,12,4,"div",16),e.ALo(2,"async"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.cartShortSummary$))}}function J(o,d){1&o&&(e.TgZ(0,"div",24)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," Running Order Details "),e.qZA()(),e._UZ(5,"hotel-order-items-details"),e.qZA()())}function M(o,d){if(1&o&&(e.TgZ(0,"span")(1,"span",62),e._uU(2),e.qZA()()),2&o){const t=d.$implicit;e.xp6(2),e.Oqu(t.name)}}function q(o,d){if(1&o&&(e.TgZ(0,"div",60),e.YNc(1,M,3,1,"span",61),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.modifiers)}}function D(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,v=e.oxw(4);return e.KtG(v.clearCart(a.customeKey,a))}),e.O4$(),e.TgZ(3,"svg",43),e._UZ(4,"g",44)(5,"g",45),e.TgZ(6,"g",46),e._UZ(7,"path",47)(8,"path",48)(9,"path",49)(10,"path",50)(11,"path",51),e.qZA()()()(),e.kcU(),e.TgZ(12,"div",36)(13,"div",52),e._uU(14),e.qZA(),e.YNc(15,q,2,1,"div",53),e._UZ(16,"div",54),e.qZA(),e.TgZ(17,"div",55)(18,"div",56)(19,"button",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,v=e.oxw(4);return e.KtG(v.decrimentCart(a))}),e._uU(20," - "),e.qZA(),e.TgZ(21,"div",58),e._uU(22),e.qZA(),e.TgZ(23,"button",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,v=e.oxw(4);return e.KtG(v.incrementCart(a,a.customeKey))}),e._uU(24," + "),e.qZA()(),e.TgZ(25,"div",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit,v=e.oxw(4);return e.KtG(v.editPrice(a.customeKey,a.product.price,a.product))}),e._uU(26),e.ALo(27,"decimalpointpipe"),e.qZA()()()}if(2&o){const t=d.$implicit,i=e.oxw(4);e.xp6(14),e.hij(" ",t.product.name+(t.variant?"-"+t.variant.name:"")," "),e.xp6(1),e.Q6J("ngIf",t.modifiers),e.xp6(7),e.hij(" ",t.count," "),e.xp6(4),e.hij(" ",e.lcZ(27,4,i.getCartItemTotal(t))," ")}}function Q(o,d){if(1&o&&(e.TgZ(0,"div",63)(1,"div",36),e._uU(2),e.qZA(),e.TgZ(3,"div",37),e._uU(4),e.ALo(5,"decimalpointpipe"),e.qZA()()),2&o){const t=d.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij(" ",e.lcZ(5,2,t.taxValue)," ")}}function Y(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.clearCartItems())}),e._uU(3," CLEAR CART "),e.qZA()(),e.TgZ(4,"div",30)(5,"div",31),e.YNc(6,D,28,6,"div",32),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"div",33)(9,"div",34),e._uU(10,"Bill Details"),e.qZA(),e.TgZ(11,"div",35)(12,"div",36),e._uU(13,"Item Total"),e.qZA(),e.TgZ(14,"div",37),e._uU(15),e.ALo(16,"decimalpointpipe"),e.qZA()(),e.YNc(17,Q,6,4,"div",38),e.TgZ(18,"div",39)(19,"div",36),e._uU(20,"To Pay"),e.qZA(),e.TgZ(21,"div",37),e._uU(22),e.ALo(23,"decimalpointpipe"),e.qZA()()()()()}if(2&o){const t=e.oxw(2).ngIf,i=e.oxw();e.xp6(6),e.Q6J("ngForOf",e.lcZ(7,4,i.selectedOrderedCartItems$)),e.xp6(9),e.hij(" ",e.lcZ(16,6,t.total)," "),e.xp6(2),e.Q6J("ngForOf",t.taxesApplied),e.xp6(5),e.hij(" ",t.taxedTotal?e.lcZ(23,8,+t.taxedTotal):""," ")}}function $(o,d){if(1&o&&(e.TgZ(0,"div",25),e.YNc(1,Y,24,10,"div",26),e.qZA()),2&o){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.hasCartItems(t))}}function j(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2).ngIf,a=e.oxw();return e.KtG(a.placeQuickOrder(s))}),e._uU(1," QPay "),e.qZA()}}function P(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"button",66),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().ngIf,a=e.oxw();return e.KtG(a.placeOrder(s))}),e._uU(3," PLACE ORDER "),e.qZA()(),e.YNc(4,j,2,0,"button",67),e.ALo(5,"async"),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",e.lcZ(5,1,t.selectCanAccessHomeDelivery$))}}function H(o,d){1&o&&(e.TgZ(0,"div",69),e._uU(1," Please choose table or Takeaway from homepage. "),e.qZA())}const L=()=>["/shell/home"];function S(o,d){1&o&&(e.TgZ(0,"div",70)(1,"div",71),e._uU(2,"No Items In the Carts"),e.qZA(),e.TgZ(3,"div",72),e._uU(4," HOME "),e.qZA()()),2&o&&(e.xp6(3),e.Q6J("routerLink",e.DdM(1,L)))}function K(o,d){if(1&o&&(e.TgZ(0,"div",1)(1,"div"),e.YNc(2,g,6,1,"mat-expansion-panel",2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.O4$(),e.TgZ(5,"svg",5),e._UZ(6,"polygon",6),e.qZA()(),e.kcU(),e.TgZ(7,"div",7),e.YNc(8,A,3,3,"div",8),e.qZA()(),e.YNc(9,J,6,0,"div",9),e.ALo(10,"async"),e.YNc(11,$,2,1,"div",10)(12,P,6,3,"div",11)(13,H,2,0,"ng-template",null,12,e.W1O)(15,S,5,2,"ng-template",null,13,e.W1O),e.qZA()),2&o){const t=d.ngIf,i=e.MAs(14),s=e.MAs(16),a=e.oxw();e.xp6(2),e.Q6J("ngIf","table"!==(null==t.cartCreatedFor?null:t.cartCreatedFor.userType)),e.xp6(2),e.Q6J("routerLink",e.DdM(10,L)),e.xp6(4),e.Q6J("ngIf",t.cartCreatedFor)("ngIfElse",i),e.xp6(1),e.Q6J("ngIf",e.lcZ(10,8,a.selectOrderDetailsOfSelectedOrder$)),e.xp6(2),e.Q6J("ngIf",a.cartHasAnyItem(t))("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",a.shouldSubmitBtnDisplayed(t))}}let R=(()=>{class o{constructor(t,i){this.store=t,this.dialog=i,this.cart$=this.store.select(m.Gd),this.selectedOrderedCartItems$=this.store.select(m.D$),this.getTotalCartAmout$=this.store.select(m.ej),this.selectPlaceOrderSpinner$=this.store.select(f.selectPlaceOrderSpinner),this.selectOrderSuccessMessage$=this.store.select(f.selectOrderSuccessMessage),this.cartShortSummary$=this.store.select(m.fK),this.selectCanAccessCash$=this.store.select(k.I1),this.selectCanAccessHomeDelivery$=this.store.select(k.Wp),this.selectOrderDetailsOfSelectedOrder$=this.store.select(f.selectOrderDetailsOfSelectedOrder)}getCartItems(t){return Object.entries(t.cartItems)}getTaxAppliedAmoutn(t,i){return i.isPercentage?.01*t*i.value:t+i.value}hasCartItems(t){return!!Object.keys(t.cartItems).length}clearCartUser(){confirm("Do you really want to clear cart user.")&&(this.store.dispatch((0,m.YU)()),this.store.dispatch((0,f.clearTheOrderDetails)()))}placeOrder(t){this.store.dispatch((0,f.placeOrder)({cart:{...t,printKot:!0}})),this.dialog.open(Z,{disableClose:!0,width:"100%"})}placeQuickOrder(t){const s={paidAmount:t.taxedTotal,discount:0,balance:0,mode:"cash"};console.log("paymetn details conifred",s),this.openDialog().afterClosed().subscribe(a=>{this.store.dispatch((0,f.placeQuickOrder)("yes"===a?{cart:{...t,printKot:!0},paymentDetails:s}:{cart:{...t,printKot:!1},paymentDetails:s})),this.dialog.open(Z,{disableClose:!0,width:"100%"})})}getCartItemTotal(t){let i=t.variant?t.variant.price:t.product.price;return t.modifiers&&(i+=t.modifiers.reduce((s,a)=>s+a.price,0)),t.count*i}incrementCart(t,i){const s={...t,count:1};this.store.dispatch((0,m.Xq)({item:s,key:i}))}decrimentCart(t){this.store.dispatch((0,m.xu)({item:{...t,count:1}}))}clearCart(t,i){confirm(`Deleting ${i.product.name} from cart.?`)&&this.store.dispatch((0,m.h2)({itemId:t}))}shouldSubmitBtnDisplayed(t){if(!t.cartCreatedFor)return!1;const i=Object.values(t.cartItems).length>0,s=Object.values(t.orderItemsEdit).length>0;return i||s}cartHasAnyItem(t){const i=Object.values(t.cartItems).length>0,s=Object.values(t.orderItemsEdit).length>0;return i||s}testPrint(){console.log("test print")}clearCartItems(){confirm("Do you want to clear the Cart Items")&&this.store.dispatch((0,m.cG)())}setTheUserToCart(t){this.store.dispatch((0,m.mB)({user:t.cartuser})),this.store.dispatch((0,m.QB)({deliveryUserId:t.deliveryUserId?+t.deliveryUserId:0})),this.takeAwayExpPanel?.close()}openDialog(){return this.dialog.open(N.z,{width:"250px",data:{title:"Print KOT",content:"Click Print If you want to print KOT",okBtnText:"PRINT"},disableClose:!0})}editPrice(t,i,s){this.dialog.open(h,{data:{price:i,key:t,product:s}})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(y.yh),e.Y36(r.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hotel-orderapp-cart-feature-cart-list"]],viewQuery:function(i,s){if(1&i&&e.Gf(p,5),2&i){let a;e.iGM(a=e.CRH())&&(s.takeAwayExpPanel=a.first)}},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","h-full overflow-y-scroll pb-6 relative",4,"ngIf"],[1,"h-full","overflow-y-scroll","pb-6","relative"],[4,"ngIf"],[1,"w-full","flex","flex-row","bg-white","pt-2","mb-2"],[1,"w-14","h-14","md:hidden",3,"routerLink"],["id","Layer_1","version","1.1","viewBox","0 0 512 512",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"w-10",2,"enable-background","new 0 0 512 512"],["points","352,128.4 319.7,96 160,256 160,256 160,256 319.7,416 352,383.6 224.7,256 "],[1,"col-span-6","sm:col-span-6","overflow-auto","flex-grow"],[4,"ngIf","ngIfElse"],["class","pt-2 pb-5",4,"ngIf"],["class","h-4/6 mb-6 pb-5",4,"ngIf","ngIfElse"],["class","flex w-full absolute bottom-0 gap-2",4,"ngIf"],["noCreatedForUser",""],["noCartItemOrOrderEdit",""],["takeAwayExpansionPanel",""],[3,"takeawayUser","setCartUser"],["class","bg-white p-2",4,"ngIf"],[1,"bg-white","p-2"],[1,"font-bold"],[1,"font-semibold","text-gray-700"],[1,"font-light"],[1,"flex","flex-row","justify-between"],[1,"text-gray-800","text-sm"],[1,"p-1","bg-red-400","rounded-md","cursor-pointer","hover:bg-red-500",3,"click"],[1,"pt-2","pb-5"],[1,"h-4/6","mb-6","pb-5"],["class","h-full",4,"ngIf"],[1,"h-full"],[1,"text-right","pr-5","py-1"],[1,"px-2","py-1","text-center","bg-red-400","rounded-md","hover:bg-red-500",3,"click"],[1,"h-full","overflow-y-scroll","max-w-md","mx-auto","pt-3"],[1,"px-4","h-4/6","overflow-y-scroll","bg-white"],["class","border-b flex flex-row py-2",4,"ngFor","ngForOf"],[1,"w-full","bg-white","px-4","pt-2","mt-2","mb-4"],[1,"text-sm","font-semibold"],[1,"flex","flex-row","font-light","text-sm","py-2"],[1,"flex-grow"],[1,"text-right"],["class","flex flex-row font-light text-sm py-2 border-b",4,"ngFor","ngForOf"],[1,"flex","flex-row","font-bold","text-sm","py-2"],[1,"border-b","flex","flex-row","py-2"],[1,"mr-2"],[1,"w-5","h-5",3,"click"],["viewBox","0 0 24 24","fill","none"],["id","SVGRepo_bgCarrier","stroke-width","1"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M10 12V17","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 12V17","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M4 7H20","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-sm"],["class","text-xs font-light",4,"ngIf"],[1,"text-xs","font-thin"],[1,"flex","flex-row","justify-center","items-center"],[1,"w-full","mr-1","h-6","flex","flex-row","justify-between","items-center","text-xs","font-bold","bg-gray-200","p-1","rounded-lg","basis-0"],[1,"w-4","h-4","font-bold","text-lg","flex","justify-center","items-center",3,"click"],[1,"px-2","flex-grow","text-center","text-sm"],[1,"w-16","text-sm","font-light","text-right",3,"click"],[1,"text-xs","font-light"],[4,"ngFor","ngForOf"],[1,"ml-2"],[1,"flex","flex-row","font-light","text-sm","py-2","border-b"],[1,"flex","w-full","absolute","bottom-0","gap-2"],[1,"flex-grow","w-full","max-w-md","mx-auto","px-4","text-center"],[1,"p-4","w-full","py-2","bg-gray-800","rounded-md","text-white","font-bold",3,"click"],["class","p-4 py-2 bg-gray-800 rounded-md text-white font-bold",3,"click",4,"ngIf"],[1,"p-4","py-2","bg-gray-800","rounded-md","text-white","font-bold",3,"click"],[1,"p-2","bg-red-300"],[1,"grid","items-center","justify-center","w-full"],[1,"text-xl","font-light"],[1,"bg-gray-800","rounded-md","p-2","text-white","font-bold","flex","flex-row","justify-center","content-center","sm:hidden",3,"routerLink"]],template:function(i,s){1&i&&(e.YNc(0,K,17,11,"div",0),e.ALo(1,"async")),2&i&&e.Q6J("ngIf",e.lcZ(1,1,s.cart$))},dependencies:[_.ez,_.sg,_.O5,_.Ov,u.Bz,u.rH,r.Is,x.To,x.ib,x.yz,x.yK,b.WX,O.TakeAwayFormComponent,c.iM]})}return o})()},8293:(E,C,l)=>{l.r(C),l.d(C,{OrderappOrderFeatureTakeAwayComponent:()=>N,TakeAwayFormComponent:()=>O});var _=l(6814),f=l(1528),m=l(8995),u=l(6223),r=l(9212),e=l(1755),y=l(608),w=l(4221);function F(n,h){if(1&n&&(r.TgZ(0,"option",17),r._uU(1),r.qZA()),2&n){const c=h.$implicit;r.Q6J("value",c.id),r.xp6(1),r.hij(" ",c.name," ")}}function I(n,h){if(1&n&&(r.TgZ(0,"select",14),r._UZ(1,"option",15),r.YNc(2,F,2,2,"option",16),r.qZA()),2&n){const c=h.ngIf;r.xp6(2),r.Q6J("ngForOf",c)}}function U(n,h){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,I,3,1,"select",13),r.ALo(2,"async"),r.qZA()),2&n){const c=r.oxw();r.xp6(1),r.Q6J("ngIf",r.lcZ(2,1,c.selectHomeDeliveryUsers$))}}function Z(n,h){if(1&n){const c=r.EpF();r.TgZ(0,"div",19),r.NdJ("click",function(){const T=r.CHM(c).$implicit,A=r.oxw(2);return r.KtG(A.setTakeAwayCutomerShortCut(T))}),r._uU(1),r.qZA()}if(2&n){const c=h.$implicit;r.xp6(1),r.hij(" ",c," ")}}function x(n,h){if(1&n&&(r.ynx(0),r.YNc(1,Z,2,1,"div",18),r.BQk()),2&n){const c=h.ngIf;r.xp6(1),r.Q6J("ngForOf",c)}}const b=n=>({"bg-green-500":n});let O=(()=>{class n{constructor(c){if(this.store=c,this.selectHomeDeliveryUsers$=this.store.select(e.wr),this.selectCustomerShortcuts$=this.store.select(y._W),this.shortNames=["TA Customer","Car","Shurtha","Coming","FALAJ BACK","LIFELINE","MEENA PORT","SOHAR ALUMINIUM","KFC BACK","MULTHAQA","MAJEES ROAD","MUSCAT BAKERY","ALMEERA","OHI SANAYYA","GADFAN","AIRPORT","MEENA KOLIA"],this.setCartUser=new r.vpe,this.takeAwayForm=new u.cw({customerName:new u.NI("",u.kI.required),otherDetails:new u.NI(""),isHomeDelivery:new u.NI(!1),deliveryUserId:new u.NI("")}),this.takeawayUser){const p=this.takeawayUser;this.takeAwayForm.patchValue({customerName:p.firstName,otherDetails:p.lastName?p.lastName:""})}}get isHomeDelivery(){return this.takeAwayForm.get("isHomeDelivery")?.value}ngOnChanges(c){if(this.takeawayUser){const p=this.takeawayUser;this.takeAwayForm.patchValue({customerName:p.firstName,otherDetails:p.lastName?p.lastName:""})}}setTheUserToCart(){const c=this.takeAwayForm.get("deliveryUserId")?this.takeAwayForm.get("deliveryUserId")?.value:null;this.setCartUser.emit({cartuser:{firstName:this.takeAwayForm.value.customerName,lastName:this.takeAwayForm.value.otherDetails,userType:this.isHomeDelivery?f.FW.HOMEDELIVERY:f.FW.TAKEAWAY},deliveryUserId:c})}setTakeAwayCutomerShortCut(c){this.takeAwayForm.get("customerName")?.setValue(c),this.takeAwayForm.get("otherDetails")?.setValue("*****")}static#e=this.\u0275fac=function(p){return new(p||n)(r.Y36(w.yh))};static#t=this.\u0275cmp=r.Xpm({type:n,selectors:[["hotel-take-away-form"]],inputs:{takeawayUser:"takeawayUser"},outputs:{setCartUser:"setCartUser"},standalone:!0,features:[r.TTD,r.jDz],decls:26,vars:9,consts:[[1,""],[3,"formGroup"],[1,"mb-3"],["for","customerName",1,"font-extralight"],["type","text","placeholder","Enter Customer Name","formControlName","customerName",1,"p-2","px-2","border","rounded-md","w-full"],["type","text","placeholder","Other details like vehicle number","formControlName","otherDetails",1,"p-2","px-2","border","rounded-md","w-full"],[1,"flex"],["type","checkbox","formControlName","isHomeDelivery",1,"w-6","h-6"],[4,"ngIf"],[1,"py-2","flex","flex-wrap","gap-2"],[1,"mt-6"],[1,"text-white","font-bold","text-center"],[1,"bg-gray-900","py-1","px-3","rounded-full","w-full",3,"disabled","ngClass","click"],["formControlName","deliveryUserId","class","py-1 px-2 border",4,"ngIf"],["formControlName","deliveryUserId",1,"py-1","px-2","border"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","py-1 px-2 bg-blue-300 text-center cursor-pointer rounded-md",3,"click",4,"ngFor","ngForOf"],[1,"py-1","px-2","bg-blue-300","text-center","cursor-pointer","rounded-md",3,"click"]],template:function(p,g){1&p&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"label",3),r._uU(5,"Customer Name "),r.qZA()(),r._UZ(6,"input",4),r.qZA(),r.TgZ(7,"div",2)(8,"div")(9,"label",3),r._uU(10,"Other details "),r.qZA()(),r._UZ(11,"input",5),r.qZA(),r.TgZ(12,"div",2)(13,"div",6)(14,"div"),r._uU(15,"Deliverying home?"),r.qZA(),r.TgZ(16,"div"),r._UZ(17,"input",7),r.qZA()(),r.YNc(18,U,3,3,"div",8),r.qZA(),r.TgZ(19,"div",9),r.YNc(20,x,2,1,"ng-container",8),r.ALo(21,"async"),r.qZA(),r.TgZ(22,"div",10)(23,"div",11)(24,"button",12),r.NdJ("click",function(){return g.setTheUserToCart()}),r._uU(25," OK "),r.qZA()()()()()),2&p&&(r.xp6(1),r.Q6J("formGroup",g.takeAwayForm),r.xp6(17),r.Q6J("ngIf",g.isHomeDelivery),r.xp6(2),r.Q6J("ngIf",r.lcZ(21,5,g.selectCustomerShortcuts$)),r.xp6(4),r.Q6J("disabled",!g.takeAwayForm.valid)("ngClass",r.VKq(7,b,g.takeAwayForm.valid)))},dependencies:[_.ez,_.mk,_.sg,_.O5,_.Ov,u.UX,u.YN,u.Kr,u.Fj,u.Wl,u.EJ,u.JJ,u.JL,u.sg,u.u]})}return n})();var k=l(9347);let N=(()=>{class n{constructor(c,p){this.store=c,this.dialogRef=p}setTheUserToCart(c){this.store.dispatch((0,m.mB)({user:c.cartuser})),this.store.dispatch((0,m.QB)({deliveryUserId:c.deliveryUserId?+c.deliveryUserId:0})),this.dialogRef.close()}static#e=this.\u0275fac=function(p){return new(p||n)(r.Y36(w.yh),r.Y36(k.so))};static#t=this.\u0275cmp=r.Xpm({type:n,selectors:[["hotel-orderapp-order-feature-take-away"]],standalone:!0,features:[r.jDz],decls:2,vars:0,consts:[[1,"p-5"],[3,"setCartUser"]],template:function(p,g){1&p&&(r.TgZ(0,"div",0)(1,"hotel-take-away-form",1),r.NdJ("setCartUser",function(A){return g.setTheUserToCart(A)}),r.qZA()())},dependencies:[_.ez,u.UX,O]})}return n})()}}]);