"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[27],{9027:(x,d,i)=>{i.r(d),i.d(d,{OrderappOrderFeatureTakeAwayComponent:()=>g,TakeAwayFormComponent:()=>v});var u=i(4915),p=i(9055),o=i(9417),e=i(3664),c=i(2200),k=i(8191),f=i(6559),h=i(2615),y=i(9640);const C=t=>({"bg-green-500":t});function A(t,s){if(1&t&&(e.j41(0,"option",15),e.EFF(1),e.k0s()),2&t){const l=s.$implicit;e.Y8G("value",l.id),e.R7$(),e.SpI(" ",l.name," ")}}function F(t,s){1&t&&(e.j41(0,"select",13),e.nrm(1,"option",14),e.Z7z(2,A,2,2,"option",15,e.fX1),e.k0s()),2&t&&(e.R7$(2),e.Dyx(s))}function w(t,s){if(1&t&&(e.j41(0,"div"),e.nVh(1,F,4,0,"select",13),e.nI1(2,"async"),e.k0s()),2&t){let l;const a=e.XpG();e.R7$(),e.vxM((l=e.bMT(2,1,a.selectHomeDeliveryUsers$))?1:-1,l)}}function T(t,s){if(1&t){const l=e.RV6();e.j41(0,"div",17),e.bIt("click",function(){const r=h.eBV(l).$implicit,n=e.XpG(2);return h.Njj(n.setTakeAwayCutomerShortCut(r))}),e.EFF(1),e.k0s()}if(2&t){const l=s.$implicit;e.R7$(),e.SpI(" ",l," ")}}function U(t,s){1&t&&e.Z7z(0,T,2,1,"div",16,e.fX1),2&t&&e.Dyx(s)}let v=(()=>{var t;class s{constructor(a){if(this.store=a,this.selectHomeDeliveryUsers$=this.store.select(k.vI),this.selectCustomerShortcuts$=this.store.select(f.mi),this.shortNames=["TA Customer","Car","Shurtha","Coming","FALAJ BACK","LIFELINE","MEENA PORT","SOHAR ALUMINIUM","KFC BACK","MULTHAQA","MAJEES ROAD","MUSCAT BAKERY","ALMEERA","OHI SANAYYA","GADFAN","AIRPORT","MEENA KOLIA"],this.setCartUser=new e.bkB,this.takeAwayForm=new o.gE({customerName:new o.MJ("",o.k0.required),otherDetails:new o.MJ(""),isHomeDelivery:new o.MJ(!1),deliveryUserId:new o.MJ("")}),this.takeawayUser){const r=this.takeawayUser;this.takeAwayForm.patchValue({customerName:r.firstName,otherDetails:r.lastName?r.lastName:""})}}get isHomeDelivery(){return this.takeAwayForm.get("isHomeDelivery")?.value}ngOnChanges(a){if(this.takeawayUser){const r=this.takeawayUser;this.takeAwayForm.patchValue({customerName:r.firstName,otherDetails:r.lastName?r.lastName:""})}}setTheUserToCart(){const a=this.takeAwayForm.get("deliveryUserId")?this.takeAwayForm.get("deliveryUserId")?.value:null;this.setCartUser.emit({cartuser:{firstName:this.takeAwayForm.value.customerName,lastName:this.takeAwayForm.value.otherDetails,userType:this.isHomeDelivery?u.ut.HOMEDELIVERY:u.ut.TAKEAWAY},deliveryUserId:a})}setTakeAwayCutomerShortCut(a){this.takeAwayForm.get("customerName")?.setValue(a),this.takeAwayForm.get("otherDetails")?.setValue("")}static#e=t=()=>(this.\u0275fac=function(r){return new(r||s)(e.rXU(y.il))},this.\u0275cmp=e.VBU({type:s,selectors:[["hotel-take-away-form"]],inputs:{takeawayUser:"takeawayUser"},outputs:{setCartUser:"setCartUser"},features:[e.OA$],decls:27,vars:9,consts:[[1,""],["type","checkbox","name","","id","",1,"w-0","h-0"],[3,"formGroup"],[1,"mb-3"],["for","customerName",1,"font-extralight"],["type","text","placeholder","Enter Customer Name","formControlName","customerName",1,"p-2","px-2","border","rounded-md","w-full"],["type","text","placeholder","Other details like vehicle number","formControlName","otherDetails",1,"p-2","px-2","border","rounded-md","w-full"],[1,"flex"],["type","checkbox","formControlName","isHomeDelivery",1,"w-6","h-6","ml-3"],[1,"py-2","flex","flex-wrap","gap-2"],[1,"mt-6"],[1,"text-white","font-bold","text-center"],["autofocus","",1,"bg-gray-900","py-1","px-3","rounded-full","w-full",3,"click","disabled","ngClass"],["formControlName","deliveryUserId",1,"py-1","px-2","border"],["value","0"],[3,"value"],[1,"py-1","px-2","bg-blue-300","text-center","cursor-pointer","rounded-md"],[1,"py-1","px-2","bg-blue-300","text-center","cursor-pointer","rounded-md",3,"click"]],template:function(r,n){if(1&r&&(e.j41(0,"div",0),e.nrm(1,"input",1),e.j41(2,"div",2)(3,"div",3)(4,"div")(5,"label",4),e.EFF(6,"Customer Name "),e.k0s()(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"div",3)(9,"div")(10,"label",4),e.EFF(11,"Other details "),e.k0s()(),e.nrm(12,"input",6),e.k0s(),e.j41(13,"div",3)(14,"div",7)(15,"div"),e.EFF(16,"Home delivery?"),e.k0s(),e.j41(17,"div"),e.nrm(18,"input",8),e.k0s()(),e.nVh(19,w,3,3,"div"),e.k0s(),e.j41(20,"div",9),e.nVh(21,U,2,0),e.nI1(22,"async"),e.k0s(),e.j41(23,"div",10)(24,"div",11)(25,"button",12),e.bIt("click",function(){return n.setTheUserToCart()}),e.EFF(26," OK "),e.k0s()()()()()),2&r){let m;e.R7$(2),e.Y8G("formGroup",n.takeAwayForm),e.R7$(17),e.vxM(n.isHomeDelivery?19:-1),e.R7$(2),e.vxM((m=e.bMT(22,5,n.selectCustomerShortcuts$))?21:-1,m),e.R7$(4),e.Y8G("disabled",!n.takeAwayForm.valid)("ngClass",e.eq3(7,C,n.takeAwayForm.valid))}},dependencies:[c.MD,c.YU,o.X1,o.xH,o.y7,o.me,o.Zm,o.wz,o.BC,o.cb,o.j4,o.JD,c.Jj],encapsulation:2}))}return t(),s})();var N=i(8610);let g=(()=>{var t;class s{constructor(a,r){this.store=a,this.dialogRef=r}setTheUserToCart(a){this.store.dispatch((0,p.hc)({user:a.cartuser})),this.store.dispatch((0,p.xS)({deliveryUserId:a.deliveryUserId?+a.deliveryUserId:0})),this.dialogRef.close()}static#e=t=()=>(this.\u0275fac=function(r){return new(r||s)(e.rXU(y.il),e.rXU(N.k))},this.\u0275cmp=e.VBU({type:s,selectors:[["hotel-orderapp-order-feature-take-away"]],decls:2,vars:0,consts:[[1,"p-5"],[3,"setCartUser"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"hotel-take-away-form",1),e.bIt("setCartUser",function(I){return n.setTheUserToCart(I)}),e.k0s()())},dependencies:[o.X1,v],encapsulation:2}))}return t(),s})()}}]);