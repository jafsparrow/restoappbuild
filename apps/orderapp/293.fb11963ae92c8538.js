"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[293],{8293:(N,d,o)=>{o.r(d),o.d(d,{OrderappOrderFeatureTakeAwayComponent:()=>F,TakeAwayFormComponent:()=>h});var l=o(6814),u=o(1528),p=o(8995),a=o(6223),e=o(9212),A=o(1755),v=o(608),y=o(4221);function f(r,i){if(1&r&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function g(r,i){if(1&r&&(e.TgZ(0,"select",14),e._UZ(1,"option",15),e.YNc(2,f,2,2,"option",16),e.qZA()),2&r){const t=i.ngIf;e.xp6(2),e.Q6J("ngForOf",t)}}function T(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,g,3,1,"select",13),e.ALo(2,"async"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.selectHomeDeliveryUsers$))}}function C(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",19),e.NdJ("click",function(){const m=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.setTakeAwayCutomerShortCut(m))}),e._uU(1),e.qZA()}if(2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t," ")}}function w(r,i){if(1&r&&(e.ynx(0),e.YNc(1,C,2,1,"div",18),e.BQk()),2&r){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}const U=r=>({"bg-green-500":r});let h=(()=>{class r{constructor(t){if(this.store=t,this.selectHomeDeliveryUsers$=this.store.select(A.wr),this.selectCustomerShortcuts$=this.store.select(v._W),this.shortNames=["TA Customer","Car","Shurtha","Coming","FALAJ BACK","LIFELINE","MEENA PORT","SOHAR ALUMINIUM","KFC BACK","MULTHAQA","MAJEES ROAD","MUSCAT BAKERY","ALMEERA","OHI SANAYYA","GADFAN","AIRPORT","MEENA KOLIA"],this.setCartUser=new e.vpe,this.takeAwayForm=new a.cw({customerName:new a.NI("",a.kI.required),otherDetails:new a.NI(""),isHomeDelivery:new a.NI(!1),deliveryUserId:new a.NI("")}),this.takeawayUser){const s=this.takeawayUser;this.takeAwayForm.patchValue({customerName:s.firstName,otherDetails:s.lastName?s.lastName:""})}}get isHomeDelivery(){return this.takeAwayForm.get("isHomeDelivery")?.value}ngOnChanges(t){if(this.takeawayUser){const s=this.takeawayUser;this.takeAwayForm.patchValue({customerName:s.firstName,otherDetails:s.lastName?s.lastName:""})}}setTheUserToCart(){const t=this.takeAwayForm.get("deliveryUserId")?this.takeAwayForm.get("deliveryUserId")?.value:null;this.setCartUser.emit({cartuser:{firstName:this.takeAwayForm.value.customerName,lastName:this.takeAwayForm.value.otherDetails,userType:this.isHomeDelivery?u.FW.HOMEDELIVERY:u.FW.TAKEAWAY},deliveryUserId:t})}setTakeAwayCutomerShortCut(t){this.takeAwayForm.get("customerName")?.setValue(t),this.takeAwayForm.get("otherDetails")?.setValue("*****")}static#e=this.\u0275fac=function(s){return new(s||r)(e.Y36(y.yh))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["hotel-take-away-form"]],inputs:{takeawayUser:"takeawayUser"},outputs:{setCartUser:"setCartUser"},standalone:!0,features:[e.TTD,e.jDz],decls:26,vars:9,consts:[[1,""],[3,"formGroup"],[1,"mb-3"],["for","customerName",1,"font-extralight"],["type","text","placeholder","Enter Customer Name","formControlName","customerName",1,"p-2","px-2","border","rounded-md","w-full"],["type","text","placeholder","Other details like vehicle number","formControlName","otherDetails",1,"p-2","px-2","border","rounded-md","w-full"],[1,"flex"],["type","checkbox","formControlName","isHomeDelivery",1,"w-6","h-6"],[4,"ngIf"],[1,"py-2","flex","flex-wrap","gap-2"],[1,"mt-6"],[1,"text-white","font-bold","text-center"],[1,"bg-gray-900","py-1","px-3","rounded-full","w-full",3,"disabled","ngClass","click"],["formControlName","deliveryUserId","class","py-1 px-2 border",4,"ngIf"],["formControlName","deliveryUserId",1,"py-1","px-2","border"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","py-1 px-2 bg-blue-300 text-center cursor-pointer rounded-md",3,"click",4,"ngFor","ngForOf"],[1,"py-1","px-2","bg-blue-300","text-center","cursor-pointer","rounded-md",3,"click"]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"label",3),e._uU(5,"Customer Name "),e.qZA()(),e._UZ(6,"input",4),e.qZA(),e.TgZ(7,"div",2)(8,"div")(9,"label",3),e._uU(10,"Other details "),e.qZA()(),e._UZ(11,"input",5),e.qZA(),e.TgZ(12,"div",2)(13,"div",6)(14,"div"),e._uU(15,"Deliverying home?"),e.qZA(),e.TgZ(16,"div"),e._UZ(17,"input",7),e.qZA()(),e.YNc(18,T,3,3,"div",8),e.qZA(),e.TgZ(19,"div",9),e.YNc(20,w,2,1,"ng-container",8),e.ALo(21,"async"),e.qZA(),e.TgZ(22,"div",10)(23,"div",11)(24,"button",12),e.NdJ("click",function(){return n.setTheUserToCart()}),e._uU(25," OK "),e.qZA()()()()()),2&s&&(e.xp6(1),e.Q6J("formGroup",n.takeAwayForm),e.xp6(17),e.Q6J("ngIf",n.isHomeDelivery),e.xp6(2),e.Q6J("ngIf",e.lcZ(21,5,n.selectCustomerShortcuts$)),e.xp6(4),e.Q6J("disabled",!n.takeAwayForm.valid)("ngClass",e.VKq(7,U,n.takeAwayForm.valid)))},dependencies:[l.ez,l.mk,l.sg,l.O5,l.Ov,a.UX,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.JL,a.sg,a.u]})}return r})();var k=o(9347);let F=(()=>{class r{constructor(t,s){this.store=t,this.dialogRef=s}setTheUserToCart(t){this.store.dispatch((0,p.mB)({user:t.cartuser})),this.store.dispatch((0,p.QB)({deliveryUserId:t.deliveryUserId?+t.deliveryUserId:0})),this.dialogRef.close()}static#e=this.\u0275fac=function(s){return new(s||r)(e.Y36(y.yh),e.Y36(k.so))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["hotel-orderapp-order-feature-take-away"]],standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[[1,"p-5"],[3,"setCartUser"]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"hotel-take-away-form",1),e.NdJ("setCartUser",function(c){return n.setTheUserToCart(c)}),e.qZA()())},dependencies:[l.ez,a.UX,h]})}return r})()}}]);