"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[33],{5033:(E,m,a)=>{a.r(m),a.d(m,{OrderappBackofficeFeatureUserManageComponent:()=>w});var c=a(2200),p=a(8191),s=a(9417),u=a(8610),e=a(3664),l=a(2615),f=a(9640);const v=r=>({"bg-green-400":r});function U(r,t){1&r&&(e.j41(0,"div"),e.EFF(1,"Adding...."),e.k0s())}function C(r,t){if(1&r){const o=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){l.eBV(o);const i=e.XpG();return l.Njj(i.addUser())}),e.EFF(1),e.k0s()}if(2&r){const o=e.XpG();e.Y8G("disabled",!o.userAddForm.valid)("ngClass",e.eq3(3,v,o.userAddForm.valid)),e.R7$(),e.SpI(" ",o.data&&o.data.user?"UPDATE":"ADD"," ")}}let h=(()=>{var r;class t{constructor(n,i,d){this.store=n,this.data=i,this.dialogRef=d,this.selectAddUserIndicator$=this.store.select(p.ug),this.userAddForm=new s.gE({name:new s.MJ("",{validators:[s.k0.required]}),username:new s.MJ("",{validators:[s.k0.required]}),password:new s.MJ("",{validators:[s.k0.required]}),phone:new s.MJ("88888888",{validators:[s.k0.required]}),isCashier:new s.MJ(!1),isKitchenUser:new s.MJ(!1),isWaiter:new s.MJ(!1),isAdmin:new s.MJ(!1),isHomeDeliveryUser:new s.MJ(!1)})}ngOnInit(){const n=this.data?.user;n&&this.userAddForm.patchValue(n)}addUser(){if(this.userAddForm.valid)if(this.data&&this.data.user)this.store.dispatch((0,p.TK)({userId:this.data.user.id,user:this.userAddForm.value}));else{const n={...this.userAddForm.value};this.store.dispatch((0,p.nu)({user:n}))}}static#e=r=()=>(this.\u0275fac=function(i){return new(i||t)(e.rXU(f.il),e.rXU(u.e),e.rXU(u.k))},this.\u0275cmp=e.VBU({type:t,selectors:[["hotel-orderapp-user-feature-user-add"]],decls:30,vars:4,consts:[[1,"p-3"],[1,"font-semibold","pb-2"],[1,"grid","grid-cols-1","gap-2","max-w-md",3,"formGroup"],["type","text","formControlName","name","placeholder","Name",1,"w-full","border","p-2"],["type","text","formControlName","username","placeholder","Login Username",1,"w-full","border","p-2"],["type","number","formControlName","password","placeholder","Password",1,"w-full","border","p-2"],["for","isCashier"],["type","checkbox","formControlName","isCashier",1,"ml-5","w-6","h-6"],["for","isWaiter"],["type","checkbox","formControlName","isWaiter",1,"ml-5","w-6","h-6"],["for","isKitchenUser"],["type","checkbox","formControlName","isKitchenUser",1,"ml-5","w-6","h-6"],["type","checkbox","formControlName","isHomeDeliveryUser",1,"ml-5","w-6","h-6"],[1,"mt-2"],["type","submit",1,"bg-gray-700","text-white","rounded-full","py-1","w-full",3,"disabled","ngClass"],["type","submit",1,"bg-gray-700","text-white","rounded-full","py-1","w-full",3,"click","disabled","ngClass"]],template:function(i,d){1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"Add a user"),e.k0s(),e.j41(3,"form",2)(4,"div"),e.nrm(5,"input",3),e.k0s(),e.j41(6,"div"),e.nrm(7,"input",4),e.k0s(),e.j41(8,"div"),e.nrm(9,"input",5),e.k0s(),e.j41(10,"div")(11,"label",6),e.EFF(12,"Is Cashier"),e.k0s(),e.nrm(13,"input",7),e.k0s(),e.j41(14,"div")(15,"label",8),e.EFF(16,"Is Waiter"),e.k0s(),e.nrm(17,"input",9),e.k0s(),e.j41(18,"div")(19,"label",10),e.EFF(20,"Is Kitchen User"),e.k0s(),e.nrm(21,"input",11),e.k0s(),e.j41(22,"div")(23,"label",10),e.EFF(24,"Is Delivery User"),e.k0s(),e.nrm(25,"input",12),e.k0s(),e.j41(26,"div",13),e.nVh(27,U,2,0,"div"),e.nI1(28,"async"),e.vZN(29,C,2,5,"button",14),e.k0s()()()),2&i&&(e.R7$(3),e.Y8G("formGroup",d.userAddForm),e.R7$(24),e.vxM(e.bMT(28,2,d.selectAddUserIndicator$)?27:29))},dependencies:[c.MD,c.YU,s.X1,s.qT,s.me,s.Q0,s.Zm,s.BC,s.cb,s.j4,s.JD,c.Jj],encapsulation:2}))}return r(),t})();function _(r,t){1&r&&(e.rj2(0,"div"),e.EFF(1,"Waiter"),e.eux())}function x(r,t){1&r&&(e.rj2(0,"div"),e.EFF(1,"Kitchen User"),e.eux())}function g(r,t){1&r&&(e.rj2(0,"div"),e.EFF(1,"Cashier"),e.eux())}function k(r,t){1&r&&(e.rj2(0,"div"),e.EFF(1,"Homedelivery"),e.eux())}function j(r,t){if(1&r){const o=e.RV6();e.rj2(0,"div",6)(1,"div",4),e.EFF(2),e.eux(),e.rj2(3,"div",5),e.EFF(4),e.eux(),e.rj2(5,"div",5),e.EFF(6),e.eux(),e.rj2(7,"div",5),e.nVh(8,_,2,0,"div"),e.nVh(9,x,2,0,"div"),e.nVh(10,g,2,0,"div"),e.nVh(11,k,2,0,"div"),e.rj2(12,"div",9),e.VwU("click",function(){const i=l.eBV(o).$implicit,d=e.XpG(2);return l.Njj(d.editUser(i))}),e.EFF(13," edit "),e.eux()()()}if(2&r){const o=t.$implicit;e.R7$(2),e.JRh(o.name),e.R7$(2),e.JRh(o.username),e.R7$(2),e.JRh(o.password),e.R7$(2),e.vxM(o.isWaiter?8:-1),e.R7$(),e.vxM(o.isKitchenUser?9:-1),e.R7$(),e.vxM(o.isCashier?10:-1),e.R7$(),e.vxM(o.isHomeDeliveryUser?11:-1)}}function b(r,t){if(1&r){const o=e.RV6();e.rj2(0,"div",1)(1,"div",2),e.EFF(2,"Users"),e.eux(),e.rj2(3,"div",3)(4,"div",4),e.EFF(5,"Name"),e.eux(),e.rj2(6,"div",5),e.EFF(7,"Username"),e.eux(),e.rj2(8,"div",5),e.EFF(9,"Password"),e.eux(),e.rj2(10,"div",5),e.EFF(11,"Roles"),e.eux()(),e.Z7z(12,j,14,7,"div",6,e.fX1),e.rj2(14,"div",7)(15,"div",8),e.VwU("click",function(){l.eBV(o);const i=e.XpG();return l.Njj(i.addUser())}),e.EFF(16," ADD "),e.eux()()()}2&r&&(e.R7$(12),e.Dyx(t))}let y=(()=>{var r;class t{constructor(n,i){this.store=n,this.dialog=i,this.selectUsers$=this.store.select(p.hs)}addUser(){this.dialog.open(h,{})}editUser(n){this.dialog.open(h,{data:{user:n}})}static#e=r=()=>(this.\u0275fac=function(i){return new(i||t)(e.rXU(f.il),e.rXU(u.h))},this.\u0275cmp=e.VBU({type:t,selectors:[["hotel-orderapp-user-feature-user-list"]],decls:3,vars:3,consts:[[1,"p-2"],[1,"max-w-md","mx-auto","p-2","grid","grid-cols-1","gap-1"],[1,"font-semibold"],[1,"grid","grid-cols-5","p-2"],[1,"col-span-2"],[1,"col-span-1"],[1,"grid","grid-cols-5","p-2","bg-white","rounded-md"],[1,"text-right","pl-2"],[1,"bg-green-300","py-1","px-2","text-center","inline-block","rounded-md","cursor-pointer",3,"click"],[1,"text-center","bg-gray-900","text-white","hover:bg-gray-700","cursor-pointer","rounded-full",3,"click"]],template:function(i,d){if(1&i&&(e.rj2(0,"div",0),e.nVh(1,b,17,0,"div",1),e.nI1(2,"async"),e.eux()),2&i){let F;e.R7$(),e.vxM((F=e.bMT(2,1,d.selectUsers$))?1:-1,F)}},dependencies:[c.MD,c.Jj],encapsulation:2}))}return r(),t})(),w=(()=>{var r;class t{static#e=r=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=e.VBU({type:t,selectors:[["hotel-orderapp-backoffice-feature-user-manage"]],decls:1,vars:0,template:function(i,d){1&i&&e.nrm(0,"hotel-orderapp-user-feature-user-list")},dependencies:[y],encapsulation:2}))}return r(),t})()}}]);