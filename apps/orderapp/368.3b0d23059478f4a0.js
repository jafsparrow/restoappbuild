"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[368],{1368:(T,y,d)=>{d.r(y),d.d(y,{OrderappBackofficeFeatureCategoryManageComponent:()=>$});var p=d(2200),g=d(8292),s=d(8610),h=d(9384),f=d(1654),i=d(9417),e=d(3664),l=d(2615),m=d(9640);const v=t=>({"bg-green-400":t});function F(t,o){if(1&t&&(e.j41(0,"option",7),e.EFF(1),e.k0s()),2&t){const n=o.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function x(t,o){1&t&&(e.j41(0,"div")(1,"select",6),e.Z7z(2,F,2,2,"option",7,e.fX1),e.k0s()()),2&t&&(e.R7$(2),e.Dyx(o))}function k(t,o){1&t&&(e.j41(0,"div"),e.EFF(1," Adding.... "),e.k0s())}function j(t,o){if(1&t){const n=e.RV6();e.j41(0,"button",8),e.bIt("click",function(){l.eBV(n);const r=e.XpG();return l.Njj(r.addCategory())}),e.EFF(1),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("disabled",!n.categoryAddForm.valid)("ngClass",e.eq3(3,v,n.categoryAddForm.valid)),e.R7$(),e.SpI(" ",n.data&&n.data.category?"UPDATE":"ADD"," ")}}let C=(()=>{var t;class o{constructor(a,r,c){this.store=a,this.data=r,this.dialogRef=c,this.selectKitchens$=this.store.select(f.g9),this.selectAddCategoryIndicator$=this.store.select(g.WS),this.categoryAddForm=new i.gE({name:new i.MJ("",{validators:[i.k0.required]}),kitchenId:new i.MJ("",{validators:[i.k0.required]}),categoryCode:new i.MJ("",{validators:[i.k0.required]}),color:new i.MJ("#eeee",{validators:[i.k0.required]})})}ngOnInit(){const a=this.data?.category;console.log("kitchen t edit",a),a&&this.categoryAddForm.patchValue(a)}addCategory(){if(this.categoryAddForm.valid)if(this.data&&this.data.category)this.store.dispatch((0,g.Hz)({categoryId:this.data.category.id,category:this.categoryAddForm.value}));else{const a={...this.categoryAddForm.value};this.store.dispatch((0,g.Ah)({category:a}))}}static#e=t=()=>(this.\u0275fac=function(r){return new(r||o)(e.rXU(m.il),e.rXU(s.e),e.rXU(s.k))},this.\u0275cmp=e.VBU({type:o,selectors:[["hotel-orderapp-category-feature-add"]],decls:13,vars:7,consts:[[1,"p-4"],[1,"font-semibold","pb-2"],[1,"grid","grid-cols-1","gap-4","max-w-md",3,"formGroup"],["type","text","formControlName","name","placeholder","Category Name",1,"w-full","border","p-2"],["type","text","placeholder","Category Code","formControlName","categoryCode",1,"w-full","border","p-2"],["type","submit",1,"bg-gray-700","cursor-pointer","text-white","rounded-full","py-1",3,"disabled","ngClass"],["name","printer","id","pritner","formControlName","kitchenId",1,"p-2","border","w-full"],[1,"p-2",3,"value"],["type","submit",1,"bg-gray-700","cursor-pointer","text-white","rounded-full","py-1",3,"click","disabled","ngClass"]],template:function(r,c){if(1&r&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"Add a Category"),e.k0s(),e.j41(3,"form",2)(4,"div"),e.nrm(5,"input",3),e.k0s(),e.nVh(6,x,4,0,"div"),e.nI1(7,"async"),e.j41(8,"div"),e.nrm(9,"input",4),e.k0s(),e.nVh(10,k,2,0,"div"),e.nI1(11,"async"),e.vZN(12,j,2,5,"button",5),e.k0s()()),2&r){let u;e.R7$(3),e.Y8G("formGroup",c.categoryAddForm),e.R7$(3),e.vxM((u=e.bMT(7,3,c.selectKitchens$))?6:-1,u),e.R7$(4),e.vxM(e.bMT(11,5,c.selectAddCategoryIndicator$)?10:12)}},dependencies:[p.MD,p.YU,i.X1,i.qT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.j4,i.JD,s.l,h.gG,p.Jj],encapsulation:2}))}return t(),o})();function _(t,o){if(1&t){const n=e.RV6();e.rj2(0,"div",5)(1,"div",3),e.EFF(2),e.eux(),e.rj2(3,"div",4),e.EFF(4),e.eux(),e.rj2(5,"div",4),e.EFF(6),e.eux(),e.rj2(7,"div",4)(8,"div",8),e.VwU("click",function(){const r=l.eBV(n).$implicit,c=e.XpG(2);return l.Njj(c.editCategory(r))}),e.EFF(9," EDIT "),e.eux()()()}if(2&t){const n=o.$implicit;e.R7$(2),e.JRh(n.name),e.R7$(2),e.JRh(n.categoryCode),e.R7$(2),e.SpI(" ",n.kitchen?n.kitchen.name:"no assigned"," ")}}function A(t,o){if(1&t){const n=e.RV6();e.rj2(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3,"Category"),e.eux(),e.rj2(4,"div",4),e.EFF(5,"Code"),e.eux(),e.rj2(6,"div",4),e.EFF(7,"Kitchen"),e.eux(),e.rj2(8,"div",4),e.EFF(9,"Actions"),e.eux()(),e.Z7z(10,_,10,3,"div",5,e.fX1),e.rj2(12,"div",6)(13,"div",7),e.VwU("click",function(){l.eBV(n);const r=e.XpG();return l.Njj(r.addCategroy())}),e.EFF(14," ADD "),e.eux()()()}2&t&&(e.R7$(10),e.Dyx(o))}let b=(()=>{var t;class o{constructor(a,r){this.store=a,this.dialog=r,this.selectCategories$=this.store.select(g.Jk)}addCategroy(){this.dialog.open(C,{})}editCategory(a){this.dialog.open(C,{data:{category:a}})}static#e=t=()=>(this.\u0275fac=function(r){return new(r||o)(e.rXU(m.il),e.rXU(s.h))},this.\u0275cmp=e.VBU({type:o,selectors:[["hotel-orderapp-category-feature-list"]],decls:3,vars:3,consts:[[1,"bg-gray-50","p-2"],[1,"max-w-md","mx-auto","p-2","grid","grid-cols-1","gap-1"],[1,"grid","grid-cols-5","p-2"],[1,"col-span-2"],[1,"col-span-1"],[1,"grid","grid-cols-5","bg-white","p-2","rounded-md"],[1,"text-right","pl-2","mt-4"],[1,"bg-green-300","hover:bg-geen-500","py-1","px-2","text-center","inline-block","rounded-md","cursor-pointer",3,"click"],[1,"text-blue-800","hover:text-blue-950","cursor-pointer","text-xs",3,"click"]],template:function(r,c){if(1&r&&(e.rj2(0,"div",0),e.nVh(1,A,15,0,"div",1),e.nI1(2,"async"),e.eux()),2&r){let u;e.R7$(),e.vxM((u=e.bMT(2,1,c.selectCategories$))?1:-1,u)}},dependencies:[p.MD,s.l,p.Jj],encapsulation:2}))}return t(),o})(),$=(()=>{var t;class o{constructor(a){this.store=a,this.store.dispatch((0,g.B4)())}static#e=t=()=>(this.\u0275fac=function(r){return new(r||o)(e.rXU(m.il))},this.\u0275cmp=e.VBU({type:o,selectors:[["hotel-orderapp-backoffice-feature-category-manage"]],decls:1,vars:0,template:function(r,c){1&r&&e.nrm(0,"hotel-orderapp-category-feature-list")},dependencies:[b,s.l],encapsulation:2}))}return t(),o})()}}]);