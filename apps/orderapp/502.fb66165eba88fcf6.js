"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[27,502],{2007:(M,j,c)=>{c.d(j,{h:()=>t});var p=c(3664),f=c(9417),d=c(152),r=c(2615);function v(l,x){if(1&l){const w=p.RV6();p.j41(0,"button",4),p.bIt("click",function(){const g=r.eBV(w).$implicit,b=p.XpG();return r.Njj(b.shortCutClicked(g))}),p.EFF(1),p.k0s()}if(2&l){const w=x.$implicit;p.R7$(),p.SpI(" ",w," ")}}let t=(()=>{var l;class x{constructor(){this.noteChangeEmitter=new p.bkB,this.noteSuggestions=[],this.note="",this.noteFormControl=new f.MJ(""),this.noteSubscription=this.noteFormControl.valueChanges.pipe((0,d.B)(300)).subscribe(F=>{this.noteChangeEmitter.emit(F??"")})}ngOnInit(){this.note&&this.noteFormControl.setValue(this.note)}shortCutClicked(F){const g=this.noteFormControl.value;this.noteFormControl.setValue(g?g+", "+F:F)}ngOnDestroy(){console.log("Destroying notes component and subscription"),this.noteSubscription.unsubscribe()}static#t=l=()=>(this.\u0275fac=function(g){return new(g||x)},this.\u0275cmp=p.VBU({type:x,selectors:[["lib-cart-item-note"]],inputs:{noteSuggestions:"noteSuggestions",note:"note"},outputs:{noteChangeEmitter:"noteChangeEmitter"},decls:6,vars:1,consts:[[1,"flex","gap-4","mb-3"],["type","text","placeholder","Enter notes...",1,"rounded-md","flex-1","bg-zinc-200","w-full","p-2","ring-zinc-700",3,"formControl"],[1,"flex","flex-wrap","gap-4"],[1,"bg-gray-100","p-2","rounded-lg","border"],[1,"bg-gray-100","p-2","rounded-lg","border",3,"click"]],template:function(g,b){1&g&&(p.j41(0,"div")(1,"div",0),p.nrm(2,"input",1),p.k0s(),p.j41(3,"div",2),p.Z7z(4,v,2,1,"button",3,p.fX1),p.k0s()()),2&g&&(p.R7$(2),p.Y8G("formControl",b.noteFormControl),p.R7$(2),p.Dyx(b.noteSuggestions))},dependencies:[f.X1,f.me,f.BC,f.l_],encapsulation:2}))}return l(),x})()},4121:(M,j,c)=>{c.r(j),c.d(j,{OrderappCartFeatureCartListComponent:()=>st});var p=c(2200),f=c(142),d=c(9055),r=c(8132),v=c(8610),t=c(3664),l=c(2615),x=c(9640),w=c(7589);function F(n,s){1&n&&(t.rj2(0,"div",1),t.EFF(1," Submitting you order please wait..... "),t.eux())}function g(n,s){if(1&n){const i=t.RV6();t.rj2(0,"div")(1,"div",1)(2,"div",2),t.EFF(3," Something wrong happened while placing the order "),t.eux()(),t.rj2(4,"div",3),t.VwU("click",function(){l.eBV(i);const o=t.XpG(2);return l.Njj(o.tryAgainBtn())}),t.EFF(5," TRY AGAIN "),t.eux()()}}function b(n,s){if(1&n){const i=t.RV6();t.rj2(0,"div")(1,"div",1)(2,"div",4),t.EFF(3),t.eux()(),t.rj2(4,"div",5),t.VwU("click",function(){l.eBV(i);const o=t.XpG(2);return l.Njj(o.goToNextOrder())}),t.EFF(5," NEXT ORDER "),t.eux()()}2&n&&(t.R7$(3),t.JRh(s))}function E(n,s){if(1&n&&(t.rj2(0,"div"),t.nVh(1,g,6,0,"div"),t.nI1(2,"async"),t.nVh(3,b,6,1,"div"),t.nI1(4,"async"),t.eux()),2&n){let i;const e=t.XpG();t.R7$(),t.vxM(t.bMT(2,2,e.selectOrderErrorMessage$)?1:-1),t.R7$(2),t.vxM((i=t.bMT(4,4,e.selectOrderSuccessMessage$))?3:-1,i)}}let I=(()=>{var n;class s{constructor(e,o,a){this.store=e,this.router=o,this.dialog=a,this.selectPlaceOrderSpinner$=this.store.select(f.selectPlaceOrderSpinner),this.selectOrderSuccessMessage$=this.store.select(f.selectOrderSuccessMessage),this.selectOrderErrorMessage$=this.store.select(f.selectOrderErrorMessage)}goToNextOrder(){this.store.dispatch((0,d.sX)()),this.dialog.closeAll(),this.router.navigate(["shell","home"])}tryAgainBtn(){this.dialog.closeAll()}static#t=n=()=>(this.\u0275fac=function(o){return new(o||s)(t.rXU(x.il),t.rXU(w.Ix),t.rXU(v.h))},this.\u0275cmp=t.VBU({type:s,selectors:[["hotel-orderapp-order-feature-progress"]],decls:4,vars:3,consts:[[1,"bg-gray-100","border","p-2"],[1,"h-40","flex","justify-center","items-center"],[1,"text-red-400"],[1,"max-w-sm","mx-auto","bg-red-700","text-white","text-center","p-2","rounded-md","mt-2",3,"click"],[1,"text-green-400"],[1,"max-w-sm","mx-auto","bg-gray-700","text-white","text-center","p-2","rounded-md","mt-2","cursor-pointer",3,"click"]],template:function(o,a){1&o&&(t.rj2(0,"div",0),t.nVh(1,F,2,0,"div",1),t.nI1(2,"async"),t.vZN(3,E,5,6,"div"),t.eux()),2&o&&(t.R7$(),t.vxM(t.bMT(2,1,a.selectPlaceOrderSpinner$)?1:3))},dependencies:[p.MD,r.iI,v.l,p.Jj],encapsulation:2}))}return n(),s})();c(4915);var T=c(2021),R=c(491),$=c(9027),m=c(4731),_=c(3691),h=c(9417);let C=(()=>{var n;class s{constructor(e,o,a){this.store=e,this.data=o,this.dialogRef=a,this.key=this.data.key,this.price=this.data.price,this.product=this.data.product}updateCartItemPrice(){console.log("update cartItem clickd"),this.store.dispatch((0,d.u9)({key:this.key,price:this.price})),this.dialogRef.close()}static#t=n=()=>(this.\u0275fac=function(o){return new(o||s)(t.rXU(x.il),t.rXU(v.e),t.rXU(v.k))},this.\u0275cmp=t.VBU({type:s,selectors:[["hotel-cart-item-price"]],decls:9,vars:2,consts:[[1,"p-4"],[1,"text-lg"],[1,"font-semibold","px-2"],["type","number",1,"px-2","py-1","border","rounded-md",3,"ngModelChange","ngModel"],[1,"pt-2","text-center"],[1,"text-center","px-2","py-1","bg-orange-400","rounded-md",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2," Edit Price "),t.j41(3,"span",2),t.EFF(4),t.k0s()(),t.j41(5,"input",3),t.mxI("ngModelChange",function(A){return t.DH7(a.price,A)||(a.price=A),A}),t.k0s(),t.j41(6,"div",4)(7,"button",5),t.bIt("click",function(){return a.updateCartItemPrice()}),t.EFF(8," OK "),t.k0s()()()),2&o&&(t.R7$(4),t.JRh(a.product.name),t.R7$(),t.R50("ngModel",a.price))},dependencies:[h.YN,h.me,h.Q0,h.BC,h.vS],encapsulation:2}))}return n(),s})();var u=c(152);function k(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){const o=l.eBV(i).$implicit,a=t.XpG();return l.Njj(a.shortCutClicked(o))}),t.EFF(1),t.k0s()}if(2&n){const i=s.$implicit;t.R7$(),t.SpI(" ",i," ")}}let O=(()=>{var n;class s{constructor(){this.noteChangeEmitter=new t.bkB,this.noteSuggestions=[],this.noteFormControl=new h.MJ(""),this.noteSubscription=this.noteFormControl.valueChanges.pipe((0,u.B)(300)).subscribe(e=>{this.noteChangeEmitter.emit(e??"")})}shortCutClicked(e){const o=this.noteFormControl.value;this.noteFormControl.setValue(o?o+", "+e:e)}ngOnDestroy(){console.log("Destroying notes component and subscription"),this.noteSubscription.unsubscribe()}static#t=n=()=>(this.\u0275fac=function(o){return new(o||s)},this.\u0275cmp=t.VBU({type:s,selectors:[["hotel-cart-note"]],inputs:{noteSuggestions:"noteSuggestions"},outputs:{noteChangeEmitter:"noteChangeEmitter"},decls:6,vars:1,consts:[[1,"flex","gap-4","mb-3"],["type","text","placeholder","Enter notes...",1,"rounded-md","flex-1","bg-zinc-200","w-full","p-2","ring-zinc-700",3,"formControl"],[1,"flex","flex-wrap","gap-4"],[1,"bg-gray-100","p-2","rounded-lg","border"],[1,"bg-gray-100","p-2","rounded-lg","border",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div")(1,"div",0),t.nrm(2,"input",1),t.k0s(),t.j41(3,"div",2),t.Z7z(4,k,2,1,"button",3,t.fX1),t.k0s()()),2&o&&(t.R7$(2),t.Y8G("formControl",a.noteFormControl),t.R7$(2),t.Dyx(a.noteSuggestions))},dependencies:[h.X1,h.me,h.BC,h.l_],encapsulation:2}))}return n(),s})();var V=c(3974),S=c(2007);const D=()=>["S","V","biriyani","majboos","onion","tomato","onion fry","saloona spicy","saloona normal","single single"];function B(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",0)(1,"lib-cart-item-note",1),t.bIt("noteChangeEmitter",function(o){l.eBV(i);const a=t.XpG();return l.Njj(a.noteChanged(o))}),t.k0s(),t.j41(2,"button",2),t.bIt("click",function(){l.eBV(i);const o=t.XpG();return l.Njj(o.updateEditedNote())}),t.EFF(3," OK "),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("note",i.data.note??"")("noteSuggestions",t.lJ4(2,D))}}let X=(()=>{var n;class s{constructor(e,o,a){this.data=e,this.dialog=o,this.store=a,this.cartItem=null,this.currentNote="",this.data&&(this.cartItem=this.data,this.currentNote=this.cartItem.note??"")}noteChanged(e){console.log("note change ",e),this.currentNote=e}updateEditedNote(){this.cartItem&&this.store.dispatch((0,d.jB)({key:this.cartItem.customeKey,note:this.currentNote})),this.dialog.closeAll()}static#t=n=()=>(this.\u0275fac=function(o){return new(o||s)(t.rXU(v.e),t.rXU(v.h),t.rXU(x.il))},this.\u0275cmp=t.VBU({type:s,selectors:[["lib-edit-cart-item-note-dialog"]],decls:1,vars:1,consts:[[1,"p-4","rounded-lg"],[3,"noteChangeEmitter","note","noteSuggestions"],[1,"mt-3","rounded-full","p-2","bg-green-900","text-white","w-full",3,"click"]],template:function(o,a){1&o&&t.nVh(0,B,4,3,"div",0),2&o&&t.vxM(a.data?0:-1)},dependencies:[S.h],encapsulation:2}))}return n(),s})();const L=["takeAwayExpansionPanel"],U=()=>["/shell/home"],G=()=>["Urgent","Customer running"];function P(n,s){if(1&n){const i=t.RV6();t.j41(0,"mat-expansion-panel",null,0)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t.EFF(4," Takeaway Info "),t.k0s()(),t.j41(5,"hotel-take-away-form",12),t.bIt("setCartUser",function(o){l.eBV(i);const a=t.XpG(2);return l.Njj(a.setTheUserToCart(o))}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(5),t.Y8G("takeawayUser",i.cartCreatedFor)}}function H(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13)(1,"div",14),t.EFF(2),t.j41(3,"span",15),t.EFF(4),t.k0s()(),t.j41(5,"div",16),t.EFF(6),t.k0s(),t.j41(7,"div",17)(8,"div",18),t.EFF(9),t.k0s(),t.j41(10,"div",19),t.bIt("click",function(){l.eBV(i);const o=t.XpG(3);return l.Njj(o.clearCartUser())}),t.EFF(11," CLEAR "),t.k0s()()()}if(2&n){const i=s;t.R7$(2),t.SpI(" ",i.cartCreateFor.userType.toUpperCase()," : "),t.R7$(2),t.JRh(i.cartCreateFor.firstName),t.R7$(2),t.JRh(i.cartCreateFor.lastName),t.R7$(3),t.SpI(" ",i.runningStatus," ")}}function K(n,s){if(1&n&&(t.j41(0,"div"),t.nVh(1,H,12,4,"div",13),t.nI1(2,"async"),t.k0s()),2&n){let i;const e=t.XpG(2);t.R7$(),t.vxM((i=t.bMT(2,1,e.cartShortSummary$))?1:-1,i)}}function J(n,s){1&n&&(t.j41(0,"div",7),t.EFF(1," Please choose table or Takeaway from homepage. "),t.k0s())}function Y(n,s){1&n&&(t.j41(0,"div",8)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t.EFF(4," Running Order Details "),t.k0s()(),t.nrm(5,"hotel-order-items-details"),t.k0s()())}function z(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",47)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"button",55),t.bIt("click",function(){l.eBV(i);const o=t.XpG().$implicit,a=t.XpG(4);return l.Njj(a.editCartItemNote(o))}),l.qSk(),t.j41(4,"svg",56),t.nrm(5,"path",57),t.k0s()()()}if(2&n){const i=t.XpG().$implicit;t.R7$(2),t.SpI(" ",i.note)}}function Z(n,s){if(1&n){const i=t.RV6();t.j41(0,"div")(1,"button",58),t.bIt("click",function(){l.eBV(i);const o=t.XpG().$implicit,a=t.XpG(4);return l.Njj(a.editCartItemNote(o))}),l.qSk(),t.j41(2,"svg",59)(3,"g",60),t.nrm(4,"path",61),t.k0s()()()()}}function Q(n,s){if(1&n&&(t.j41(0,"span")(1,"span",62),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.name)}}function W(n,s){if(1&n&&(t.j41(0,"div",48),t.Z7z(1,Q,3,1,"span",null,t.fX1),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Dyx(i.modifiers)}}function q(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",22)(1,"div",35)(2,"div",36),t.bIt("click",function(){const o=l.eBV(i).$implicit,a=t.XpG(4);return l.Njj(a.clearCart(o.customeKey,o))}),l.qSk(),t.j41(3,"svg",37),t.nrm(4,"g",38)(5,"g",39),t.j41(6,"g",40),t.nrm(7,"path",41)(8,"path",42)(9,"path",43)(10,"path",44)(11,"path",45),t.k0s()()()(),l.joV(),t.j41(12,"div",29)(13,"div",46),t.EFF(14),t.k0s(),t.nVh(15,z,6,1,"div",47)(16,Z,5,0,"div"),t.nVh(17,W,3,0,"div",48),t.nrm(18,"div",49),t.k0s(),t.j41(19,"div",50)(20,"div",51)(21,"button",52),t.bIt("click",function(){const o=l.eBV(i).$implicit,a=t.XpG(4);return l.Njj(a.decrimentCart(o,o.customeKey))}),t.EFF(22," - "),t.k0s(),t.j41(23,"div",53),t.EFF(24),t.k0s(),t.j41(25,"button",52),t.bIt("click",function(){const o=l.eBV(i).$implicit,a=t.XpG(4);return l.Njj(a.incrementCart(o,o.customeKey))}),t.EFF(26," + "),t.k0s()(),t.j41(27,"div",54),t.bIt("click",function(){const o=l.eBV(i).$implicit,a=t.XpG(4);return l.Njj(a.editPrice(o.customeKey,o.product.price,o.product))}),t.EFF(28),t.nI1(29,"decimalpointpipe"),t.k0s()()()}if(2&n){const i=s.$implicit,e=t.XpG(4);t.R7$(14),t.SpI(" ",i.product.name+(i.variant?"-"+i.variant.name:"")," "),t.R7$(),t.vxM(i.note?15:16),t.R7$(2),t.vxM(i.modifiers?17:-1),t.R7$(7),t.SpI(" ",i.count," "),t.R7$(4),t.SpI(" ",t.bMT(29,5,e.getCartItemTotal(i))," ")}}function tt(n,s){if(1&n&&(t.j41(0,"div",31)(1,"div",29),t.EFF(2),t.k0s(),t.j41(3,"div",30),t.EFF(4),t.nI1(5,"decimalpointpipe"),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.name),t.R7$(2),t.SpI(" ",t.bMT(5,2,i.taxValue)," ")}}function et(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",20)(1,"div",21),t.Z7z(2,q,30,7,"div",22,t.fX1),t.nI1(4,"async"),t.k0s(),t.j41(5,"div",23)(6,"button",24),t.bIt("click",function(){l.eBV(i);const o=t.XpG(3);return l.Njj(o.clearCartItems())}),t.EFF(7," CLEAR CART "),t.k0s()(),t.j41(8,"div",25)(9,"div",26)(10,"div",27),t.EFF(11,"Bill Details"),t.k0s(),t.j41(12,"div",28)(13,"div",29),t.EFF(14,"Item Total"),t.k0s(),t.j41(15,"div",30),t.EFF(16),t.nI1(17,"decimalpointpipe"),t.k0s()(),t.Z7z(18,tt,6,4,"div",31,t.fX1),t.j41(20,"div",32)(21,"div",29),t.EFF(22,"To Pay"),t.k0s(),t.j41(23,"div",30),t.EFF(24),t.nI1(25,"decimalpointpipe"),t.k0s()()(),t.j41(26,"div",33)(27,"hotel-cart-note",34),t.bIt("noteChangeEmitter",function(o){l.eBV(i);const a=t.XpG(3);return l.Njj(a.setCartNote(o))}),t.k0s()()()()}if(2&n){const i=t.XpG(2),e=t.XpG();t.R7$(2),t.Dyx(t.bMT(4,3,e.selectedOrderedCartItems$)),t.R7$(14),t.SpI(" ",t.bMT(17,5,i.total)," "),t.R7$(2),t.Dyx(i.taxesApplied),t.R7$(6),t.SpI(" ",i.taxedTotal?t.bMT(25,7,+i.taxedTotal):""," "),t.R7$(3),t.Y8G("noteSuggestions",t.lJ4(9,G))}}function ot(n,s){if(1&n&&(t.j41(0,"div",9),t.nVh(1,et,28,10,"div",20),t.k0s()),2&n){const i=t.XpG(),e=t.XpG();t.R7$(),t.vxM(e.hasCartItems(i)?1:-1)}}function rt(n,s){1&n&&(t.j41(0,"div",10)(1,"div",63),t.EFF(2,"No Items In the Carts"),t.k0s(),t.j41(3,"div",64),t.EFF(4," HOME "),t.k0s()()),2&n&&(t.R7$(3),t.Y8G("routerLink",t.lJ4(1,U)))}function nt(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",68),t.bIt("click",function(){l.eBV(i);const o=t.XpG(2),a=t.XpG();return l.Njj(a.placeQuickOrder(o))}),t.EFF(1," QPay "),t.k0s()}}function it(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"div",65)(2,"button",66),t.bIt("click",function(){l.eBV(i);const o=t.XpG(),a=t.XpG();return l.Njj(a.placeOrder(o))}),t.EFF(3," PLACE ORDER "),t.k0s()(),t.nVh(4,nt,2,0,"button",67),t.nI1(5,"async"),t.k0s()}if(2&n){const i=t.XpG(2);t.R7$(4),t.vxM(t.bMT(5,1,i.selectCanAccessHomeDelivery$)?4:-1)}}function at(n,s){if(1&n&&(t.j41(0,"div",1)(1,"div"),t.nVh(2,P,6,1,"mat-expansion-panel"),t.k0s(),t.j41(3,"div",2)(4,"button",3),l.qSk(),t.j41(5,"svg",4),t.nrm(6,"polygon",5),t.k0s()(),l.joV(),t.j41(7,"div",6),t.nVh(8,K,3,3,"div")(9,J,2,0,"div",7),t.k0s()(),t.nVh(10,Y,6,0,"div",8),t.nI1(11,"async"),t.nVh(12,ot,2,1,"div",9)(13,rt,5,2,"div",10),t.nVh(14,it,6,3,"div",11),t.k0s()),2&n){const i=s,e=t.XpG();t.R7$(2),t.vxM("table"!==(null==i.cartCreatedFor?null:i.cartCreatedFor.userType)?2:-1),t.R7$(2),t.Y8G("routerLink",t.lJ4(8,U)),t.R7$(4),t.vxM(i.cartCreatedFor?8:9),t.R7$(2),t.vxM(t.bMT(11,6,e.selectOrderDetailsOfSelectedOrder$)?10:-1),t.R7$(2),t.vxM(e.cartHasAnyItem(i)?12:13),t.R7$(2),t.vxM(e.shouldSubmitBtnDisplayed(i)?14:-1)}}let st=(()=>{var n;class s{constructor(e,o){this.store=e,this.dialog=o,this.cart$=this.store.select(d.xk),this.selectedOrderedCartItems$=this.store.select(d.$z),this.getTotalCartAmout$=this.store.select(d.rk),this.selectPlaceOrderSpinner$=this.store.select(f.selectPlaceOrderSpinner),this.selectOrderSuccessMessage$=this.store.select(f.selectOrderSuccessMessage),this.cartShortSummary$=this.store.select(d.HJ),this.selectCanAccessCash$=this.store.select(m.A1),this.selectCanAccessHomeDelivery$=this.store.select(m.q0),this.selectOrderDetailsOfSelectedOrder$=this.store.select(f.selectOrderDetailsOfSelectedOrder)}getCartItems(e){return Object.entries(e.cartItems)}getTaxAppliedAmoutn(e,o){return o.isPercentage?.01*e*o.value:e+o.value}hasCartItems(e){return!!Object.keys(e.cartItems).length}clearCartUser(){confirm("Do you really want to clear cart user.")&&(this.store.dispatch((0,d.ao)()),this.store.dispatch((0,f.clearTheOrderDetails)()))}placeOrder(e){this.store.dispatch((0,f.placeOrder)({cart:{...e,printKot:!0}})),this.dialog.open(I,{disableClose:!0,width:"90vw"})}placeQuickOrder(e){const a={paidAmount:e.taxedTotal,discount:0,balance:0,mode:"cash"};console.log("paymetn details conifred",a),this.openDialog().afterClosed().subscribe(y=>{this.store.dispatch((0,f.placeQuickOrder)("yes"===y?{cart:{...e,printKot:!0},paymentDetails:a}:{cart:{...e,printKot:!1},paymentDetails:a})),this.dialog.open(I,{disableClose:!0,width:"100%"})})}getCartItemTotal(e){let o=e.variant?e.variant.price:e.product.price;return e.modifiers&&(o+=e.modifiers.reduce((a,y)=>a+y.price,0)),e.count*o}incrementCart(e,o){const a={...e,count:1};this.store.dispatch((0,d.bE)({item:a,key:o}))}decrimentCart(e,o){this.store.dispatch((0,d.iH)({item:{...e,count:1},key:o}))}clearCart(e,o){confirm(`Deleting ${o.product.name} from cart.?`)&&this.store.dispatch((0,d.dt)({itemId:e}))}shouldSubmitBtnDisplayed(e){if(!e.cartCreatedFor)return!1;const o=Object.values(e.cartItems).length>0,a=Object.values(e.orderItemsEdit).length>0;return o||a}cartHasAnyItem(e){const o=Object.values(e.cartItems).length>0,a=Object.values(e.orderItemsEdit).length>0;return o||a}testPrint(){console.log("test print")}clearCartItems(){confirm("Do you want to clear the Cart Items")&&this.store.dispatch((0,d.yA)())}setTheUserToCart(e){this.store.dispatch((0,d.hc)({user:e.cartuser})),this.store.dispatch((0,d.xS)({deliveryUserId:e.deliveryUserId?+e.deliveryUserId:0})),this.takeAwayExpPanel?.close()}openDialog(){return this.dialog.open(_.D,{width:"250px",data:{title:"Print KOT",content:"Click Print If you want to print KOT",okBtnText:"PRINT"},disableClose:!0})}editPrice(e,o,a){this.dialog.open(C,{data:{price:o,key:e,product:a}})}setCartNote(e){console.log("cart note is",e),this.store.dispatch((0,d.FK)({note:e}))}editCartItemNote(e){console.log("editing the cart item note",e),this.dialog.open(X,{data:e})}static#t=n=()=>(this.\u0275fac=function(o){return new(o||s)(t.rXU(x.il),t.rXU(v.h))},this.\u0275cmp=t.VBU({type:s,selectors:[["hotel-orderapp-cart-feature-cart-list"]],viewQuery:function(o,a){if(1&o&&t.GBs(L,5),2&o){let y;t.mGM(y=t.lsd())&&(a.takeAwayExpPanel=y.first)}},decls:2,vars:3,consts:[["takeAwayExpansionPanel",""],[1,"h-full","pb-6","relative"],[1,"w-full","flex","flex-row","bg-white","pt-2","mb-2"],[1,"w-14","h-14","md:hidden",3,"routerLink"],["id","Layer_1","version","1.1","viewBox","0 0 512 512",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"w-10",2,"enable-background","new 0 0 512 512"],["points","352,128.4 319.7,96 160,256 160,256 160,256 319.7,416 352,383.6 224.7,256 "],[1,"col-span-6","sm:col-span-6","overflow-auto","flex-grow"],[1,"p-2","bg-red-300"],[1,"pt-2","pb-5"],[1,"h-5/6"],[1,"grid","items-center","justify-center","w-full"],[1,"flex","w-full","absolute","bottom-1","gap-2"],[3,"setCartUser","takeawayUser"],[1,"bg-white","p-2"],[1,"font-bold"],[1,"font-semibold","text-gray-700"],[1,"font-light"],[1,"flex","flex-row","justify-between"],[1,"text-gray-800","text-sm"],[1,"p-1","bg-red-600","text-white","rounded-md","hover:bg-red-500","cursor-pointer",3,"click"],[1,"h-full","flex","flex-col"],[1,"pt-3","h-4/6","overflow-y-scroll","px-4","bg-white"],[1,"border-b","flex","flex-row","py-2"],[1,"text-center","pr-5","py-2","flex-grow-0"],[1,"px-2","py-1","text-center","text-white","bg-red-500","rounded-md","hover:bg-red-700",3,"click"],[1,"overflow-y-scroll","pb-10","flex-1","border-t-2"],[1,"w-full","bg-white","px-4","pt-2","mt-2","mb-4"],[1,"text-sm","font-semibold"],[1,"flex","flex-row","font-light","text-sm","py-2"],[1,"flex-grow"],[1,"text-right"],[1,"flex","flex-row","font-light","text-sm","py-2","border-b"],[1,"flex","flex-row","font-bold","text-sm","py-2"],[1,"p-2"],[3,"noteChangeEmitter","noteSuggestions"],[1,"mr-2"],[1,"w-5","h-5",3,"click"],["viewBox","0 0 24 24","fill","none"],["id","SVGRepo_bgCarrier","stroke-width","1"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M10 12V17","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 12V17","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M4 7H20","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-sm"],[1,"text-sm","text-semibold","italic","flex","flex-wrap"],[1,"text-xs","font-light"],[1,"text-xs","font-thin"],[1,"flex","flex-row","justify-center","items-center"],[1,"w-full","mr-1","h-6","flex","flex-row","justify-between","items-center","text-xs","font-bold","bg-gray-200","p-1","rounded-lg","basis-0"],[1,"w-4","h-4","font-bold","text-lg","flex","justify-center","items-center",3,"click"],[1,"px-2","flex-grow","text-center","text-sm"],[1,"w-16","text-sm","font-light","text-right",3,"click"],[1,"pl-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","18","height","18","viewBox","0 0 30 30"],["d","M24 11l2.414-2.414c.781-.781.781-2.047 0-2.828l-2.172-2.172c-.781-.781-2.047-.781-2.828 0L19 6 24 11zM17 8L5.26 19.74C7.886 19.427 6.03 21.933 7 23c.854.939 3.529-.732 3.26 1.74L22 13 17 8zM4.328 26.944l-.015-.007c-.605.214-1.527-.265-1.25-1.25l-.007-.015L4 23l3 3L4.328 26.944z"],[3,"click"],["width","18px","height","18px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","Edit / Add_Plus_Square"],["id","Vector","d","M8 12H12M12 12H16M12 12V16M12 12V8M4 16.8002V7.2002C4 6.08009 4 5.51962 4.21799 5.0918C4.40973 4.71547 4.71547 4.40973 5.0918 4.21799C5.51962 4 6.08009 4 7.2002 4H16.8002C17.9203 4 18.4801 4 18.9079 4.21799C19.2842 4.40973 19.5905 4.71547 19.7822 5.0918C20.0002 5.51962 20.0002 6.07967 20.0002 7.19978V16.7998C20.0002 17.9199 20.0002 18.48 19.7822 18.9078C19.5905 19.2841 19.2842 19.5905 18.9079 19.7822C18.4805 20 17.9215 20 16.8036 20H7.19691C6.07899 20 5.5192 20 5.0918 19.7822C4.71547 19.5905 4.40973 19.2842 4.21799 18.9079C4 18.4801 4 17.9203 4 16.8002Z","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"ml-2"],[1,"text-xl","font-light"],[1,"bg-gray-800","rounded-md","p-2","text-white","font-bold","flex","flex-row","justify-center","content-center","sm:hidden",3,"routerLink"],[1,"flex-grow","w-full","max-w-md","mx-auto","px-4","text-center"],[1,"p-4","w-full","py-2","bg-gray-800","rounded-md","text-white","font-bold",3,"click"],[1,"p-4","py-2","bg-gray-800","rounded-md","text-white","font-bold"],[1,"p-4","py-2","bg-gray-800","rounded-md","text-white","font-bold",3,"click"]],template:function(o,a){if(1&o&&(t.nVh(0,at,15,9,"div",1),t.nI1(1,"async")),2&o){let y;t.vxM((y=t.bMT(1,1,a.cart$))?0:-1,y)}},dependencies:[p.MD,r.iI,r.Wk,v.l,T.MY,T.GK,T.Z2,T.WN,R.Ej,$.TakeAwayFormComponent,O,p.Jj,V.Yy],encapsulation:2}))}return n(),s})()},9027:(M,j,c)=>{c.r(j),c.d(j,{OrderappOrderFeatureTakeAwayComponent:()=>$,TakeAwayFormComponent:()=>T});var p=c(4915),f=c(9055),d=c(9417),r=c(3664),v=c(2200),t=c(8191),l=c(6559),x=c(2615),w=c(9640);const F=m=>({"bg-green-500":m});function g(m,_){if(1&m&&(r.j41(0,"option",15),r.EFF(1),r.k0s()),2&m){const h=_.$implicit;r.Y8G("value",h.id),r.R7$(),r.SpI(" ",h.name," ")}}function b(m,_){1&m&&(r.j41(0,"select",13),r.nrm(1,"option",14),r.Z7z(2,g,2,2,"option",15,r.fX1),r.k0s()),2&m&&(r.R7$(2),r.Dyx(_))}function E(m,_){if(1&m&&(r.j41(0,"div"),r.nVh(1,b,4,0,"select",13),r.nI1(2,"async"),r.k0s()),2&m){let h;const C=r.XpG();r.R7$(),r.vxM((h=r.bMT(2,1,C.selectHomeDeliveryUsers$))?1:-1,h)}}function I(m,_){if(1&m){const h=r.RV6();r.j41(0,"div",17),r.bIt("click",function(){const u=x.eBV(h).$implicit,k=r.XpG(2);return x.Njj(k.setTakeAwayCutomerShortCut(u))}),r.EFF(1),r.k0s()}if(2&m){const h=_.$implicit;r.R7$(),r.SpI(" ",h," ")}}function N(m,_){1&m&&r.Z7z(0,I,2,1,"div",16,r.fX1),2&m&&r.Dyx(_)}let T=(()=>{var m;class _{constructor(C){if(this.store=C,this.selectHomeDeliveryUsers$=this.store.select(t.vI),this.selectCustomerShortcuts$=this.store.select(l.mi),this.shortNames=["TA Customer","Car","Shurtha","Coming","FALAJ BACK","LIFELINE","MEENA PORT","SOHAR ALUMINIUM","KFC BACK","MULTHAQA","MAJEES ROAD","MUSCAT BAKERY","ALMEERA","OHI SANAYYA","GADFAN","AIRPORT","MEENA KOLIA"],this.setCartUser=new r.bkB,this.takeAwayForm=new d.gE({customerName:new d.MJ("",d.k0.required),otherDetails:new d.MJ(""),isHomeDelivery:new d.MJ(!1),deliveryUserId:new d.MJ("")}),this.takeawayUser){const u=this.takeawayUser;this.takeAwayForm.patchValue({customerName:u.firstName,otherDetails:u.lastName?u.lastName:""})}}get isHomeDelivery(){return this.takeAwayForm.get("isHomeDelivery")?.value}ngOnChanges(C){if(this.takeawayUser){const u=this.takeawayUser;this.takeAwayForm.patchValue({customerName:u.firstName,otherDetails:u.lastName?u.lastName:""})}}setTheUserToCart(){const C=this.takeAwayForm.get("deliveryUserId")?this.takeAwayForm.get("deliveryUserId")?.value:null;this.setCartUser.emit({cartuser:{firstName:this.takeAwayForm.value.customerName,lastName:this.takeAwayForm.value.otherDetails,userType:this.isHomeDelivery?p.ut.HOMEDELIVERY:p.ut.TAKEAWAY},deliveryUserId:C})}setTakeAwayCutomerShortCut(C){this.takeAwayForm.get("customerName")?.setValue(C),this.takeAwayForm.get("otherDetails")?.setValue("")}static#t=m=()=>(this.\u0275fac=function(u){return new(u||_)(r.rXU(w.il))},this.\u0275cmp=r.VBU({type:_,selectors:[["hotel-take-away-form"]],inputs:{takeawayUser:"takeawayUser"},outputs:{setCartUser:"setCartUser"},features:[r.OA$],decls:27,vars:9,consts:[[1,""],["type","checkbox","name","","id","",1,"w-0","h-0"],[3,"formGroup"],[1,"mb-3"],["for","customerName",1,"font-extralight"],["type","text","placeholder","Enter Customer Name","formControlName","customerName",1,"p-2","px-2","border","rounded-md","w-full"],["type","text","placeholder","Other details like vehicle number","formControlName","otherDetails",1,"p-2","px-2","border","rounded-md","w-full"],[1,"flex"],["type","checkbox","formControlName","isHomeDelivery",1,"w-6","h-6","ml-3"],[1,"py-2","flex","flex-wrap","gap-2"],[1,"mt-6"],[1,"text-white","font-bold","text-center"],["autofocus","",1,"bg-gray-900","py-1","px-3","rounded-full","w-full",3,"click","disabled","ngClass"],["formControlName","deliveryUserId",1,"py-1","px-2","border"],["value","0"],[3,"value"],[1,"py-1","px-2","bg-blue-300","text-center","cursor-pointer","rounded-md"],[1,"py-1","px-2","bg-blue-300","text-center","cursor-pointer","rounded-md",3,"click"]],template:function(u,k){if(1&u&&(r.j41(0,"div",0),r.nrm(1,"input",1),r.j41(2,"div",2)(3,"div",3)(4,"div")(5,"label",4),r.EFF(6,"Customer Name "),r.k0s()(),r.nrm(7,"input",5),r.k0s(),r.j41(8,"div",3)(9,"div")(10,"label",4),r.EFF(11,"Other details "),r.k0s()(),r.nrm(12,"input",6),r.k0s(),r.j41(13,"div",3)(14,"div",7)(15,"div"),r.EFF(16,"Home delivery?"),r.k0s(),r.j41(17,"div"),r.nrm(18,"input",8),r.k0s()(),r.nVh(19,E,3,3,"div"),r.k0s(),r.j41(20,"div",9),r.nVh(21,N,2,0),r.nI1(22,"async"),r.k0s(),r.j41(23,"div",10)(24,"div",11)(25,"button",12),r.bIt("click",function(){return k.setTheUserToCart()}),r.EFF(26," OK "),r.k0s()()()()()),2&u){let O;r.R7$(2),r.Y8G("formGroup",k.takeAwayForm),r.R7$(17),r.vxM(k.isHomeDelivery?19:-1),r.R7$(2),r.vxM((O=r.bMT(22,5,k.selectCustomerShortcuts$))?21:-1,O),r.R7$(4),r.Y8G("disabled",!k.takeAwayForm.valid)("ngClass",r.eq3(7,F,k.takeAwayForm.valid))}},dependencies:[v.MD,v.YU,d.X1,d.xH,d.y7,d.me,d.Zm,d.wz,d.BC,d.cb,d.j4,d.JD,v.Jj],encapsulation:2}))}return m(),_})();var R=c(8610);let $=(()=>{var m;class _{constructor(C,u){this.store=C,this.dialogRef=u}setTheUserToCart(C){this.store.dispatch((0,f.hc)({user:C.cartuser})),this.store.dispatch((0,f.xS)({deliveryUserId:C.deliveryUserId?+C.deliveryUserId:0})),this.dialogRef.close()}static#t=m=()=>(this.\u0275fac=function(u){return new(u||_)(r.rXU(w.il),r.rXU(R.k))},this.\u0275cmp=r.VBU({type:_,selectors:[["hotel-orderapp-order-feature-take-away"]],decls:2,vars:0,consts:[[1,"p-5"],[3,"setCartUser"]],template:function(u,k){1&u&&(r.j41(0,"div",0)(1,"hotel-take-away-form",1),r.bIt("setCartUser",function(V){return k.setTheUserToCart(V)}),r.k0s()())},dependencies:[d.X1,T],encapsulation:2}))}return m(),_})()}}]);