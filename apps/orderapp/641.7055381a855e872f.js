"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[641],{2687:(V,$,s)=>{s.d($,{nB:()=>N,fK:()=>K,l4:()=>R,cn:()=>z,Q:()=>D,dG:()=>g,jL:()=>I,xW:()=>L,p$:()=>j,iL:()=>y,H7:()=>B,Wd:()=>H,r6:()=>G,Te:()=>M});var o=s(4221);const I=(0,o.PH)("[Dashboard] Load product stat of the period",(0,o.Ky)()),P=(0,o.PH)("[Dashboard] Load product stat of the period Success",(0,o.Ky)()),S=(0,o.PH)("[Dashboard] Load product stat of the period failed",(0,o.Ky)()),g=(0,o.PH)("[Dashboard] Load Order stat of the period",(0,o.Ky)()),t=(0,o.PH)("[Dashboard] Load Order stat of the period Success",(0,o.Ky)()),v=(0,o.PH)("[Dashboard] Load Order stat of the period failed",(0,o.Ky)()),L=(0,o.PH)("[Dashboard] Load Staff stat of the period",(0,o.Ky)()),U=(0,o.PH)("[Dashboard] Load Staff stat of the period Success",(0,o.Ky)()),Y=(0,o.PH)("[Dashboard] Load Staff stat of the period failed",(0,o.Ky)()),D=(0,o.PH)("[Dashboard] Load Dash stat of the period"),J=(0,o.PH)("[Dashboard] Load Dash stat of the period Success",(0,o.Ky)()),F=(0,o.PH)("[Dashboard] Load Dash stat of the period failed",(0,o.Ky)()),N="dashboard",R=(0,o.Lq)({selectedDuration:null,loadingIndicator:!1,errorMessage:"",successMessage:"",orderStats:[],productStats:[],statfStats:[],orderCountStats:[],orderAmountStats:[],homedeliveryAmoutStat:[]},(0,o.on)(I,n=>({...n,loadingIndicator:!0,productStats:[]})),(0,o.on)(P,(n,{stats:d})=>({...n,loadingIndicator:!1,productStats:d})),(0,o.on)(S,(n,{errorMessage:d})=>({...n,loadingIndicator:!1,errorMessage:d})),(0,o.on)(g,n=>({...n,loadingIndicator:!0,orderStats:[]})),(0,o.on)(t,(n,{stats:d})=>({...n,loadingIndicator:!1,orderStats:d})),(0,o.on)(v,(n,{errorMessage:d})=>({...n,loadingIndicator:!1,errorMessage:d})),(0,o.on)(L,n=>({...n,loadingIndicator:!0,statfStats:[]})),(0,o.on)(U,(n,{stats:d})=>({...n,loadingIndicator:!1,statfStats:d})),(0,o.on)(Y,(n,{errorMessage:d})=>({...n,loadingIndicator:!1,errorMessage:d})),(0,o.on)(D,n=>({...n,loadingIndicator:!0,orderCountStats:[],orderAmountStats:[]})),(0,o.on)(J,(n,{stats:d})=>{const p=d.saleStatTypeBased,h=p.reduce((r,i)=>r+ +i.amount,0),c=d.saleStatPayCount,f=d.saleStatTypeCount,W=d.saleStatOrderStatusCount,e=d.homedeliveryAmoutUservice;return{...n,loadingIndicator:!1,orderCountStats:[{description:"total",totalcount:c.reduce((r,i)=>r+i.totalcount,0)},...c,...f,...W],orderAmountStats:[{description:"total",amount:h.toFixed(3)},...p],homedeliveryAmoutStat:e}}),(0,o.on)(F,(n,{errorMessage:d})=>({...n,loadingIndicator:!1,errorMessage:d,orderCountStats:[],orderAmountStats:[]}))),m=(0,o.ZF)(N),H=(0,o.P1)(m,n=>n.productStats),M=(0,o.P1)(m,n=>n.loadingIndicator),B=(0,o.P1)(m,n=>n.orderStats),G=(0,o.P1)(m,n=>n.statfStats),y=(0,o.P1)(m,n=>n.orderCountStats),j=(0,o.P1)(m,n=>n.orderAmountStats),z=(0,o.P1)(m,n=>n.homedeliveryAmoutStat);var u=s(5154),x=s(4664),C=s(7398),Z=s(6306),T=s(2096),A=s(9212),O=s(1474);let E=(()=>{class n{constructor(p,h){this.http=p,this.apiUrl=h}getProductStatsForTheDuration(p,h){const c=(new O.LE).append("startDate",p).append("endDate",h);return console.log(c),this.http.get(`${this.apiUrl}/stats/product`,{params:c})}getOrderStatsForTheDuration(p,h){const c=(new O.LE).append("startDate",p).append("endDate",h);return console.log(c),this.http.get(`${this.apiUrl}/stats/order`,{params:c})}getStaffStatsForTheDuration(p,h){const c=(new O.LE).append("startDate",p).append("endDate",h);return this.http.get(`${this.apiUrl}/stats/staffcount`,{params:c})}getDashBoardStat(){return this.http.get(`${this.apiUrl}/stats/dash`)}static#t=this.\u0275fac=function(h){return new(h||n)(A.LFG(O.eN),A.LFG("endPointURL"))};static#s=this.\u0275prov=A.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),K=(()=>{class n{constructor(p,h){this.dasharodService=p,this.action$=h,this.loadProductStatEffects$=(0,u.GW)(()=>this.action$.pipe((0,u.l4)(I),(0,x.w)(c=>this.dasharodService.getProductStatsForTheDuration(c.startDate,c.endDate).pipe((0,C.U)(f=>P({stats:f})),(0,Z.K)(f=>(0,T.of)(S({errorMessage:"somethign wrong while featching product stat"}))))))),this.loadOrderStatEffects$=(0,u.GW)(()=>this.action$.pipe((0,u.l4)(g),(0,x.w)(c=>this.dasharodService.getOrderStatsForTheDuration(c.startDate,c.endDate).pipe((0,C.U)(f=>t({stats:f})),(0,Z.K)(f=>(0,T.of)(v({errorMessage:"somethign wrong while featching product stat"}))))))),this.loadStaffStatEffects$=(0,u.GW)(()=>this.action$.pipe((0,u.l4)(L),(0,x.w)(c=>this.dasharodService.getStaffStatsForTheDuration(c.startDate,c.endDate).pipe((0,C.U)(f=>U({stats:f})),(0,Z.K)(f=>(0,T.of)(Y({errorMessage:"somethign wrong while featching product stat"}))))))),this.loadDashStatEffects$=(0,u.GW)(()=>this.action$.pipe((0,u.l4)(D),(0,x.w)(c=>this.dasharodService.getDashBoardStat().pipe((0,C.U)(f=>J({stats:f})),(0,Z.K)(f=>(0,T.of)(F({errorMessage:"somethign wrong while featching dashboard stat"})))))))}static#t=this.\u0275fac=function(h){return new(h||n)(A.LFG(E),A.LFG(u.eX))};static#s=this.\u0275prov=A.Yz7({token:n,factory:n.\u0275fac})}return n})()},4641:(V,$,s)=>{s.r($),s.d($,{OrderappShellComponent:()=>E,shellRoutes:()=>W});var o=s(6814),I=s(2939),P=s(7850),S=s(9135),g=s(4521),t=s(9212),v=s(4221);function L(e,l){if(1&e){const a=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2).ngIf,X=t.oxw();return t.KtG(X.endSession(i.id))}),t._uU(1," END "),t.qZA()}}function U(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1,"Ending..."),t.qZA())}function Y(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,L,2,0,"div",3),t.ALo(2,"async"),t.YNc(3,U,2,0,"div",2),t.ALo(4,"async"),t.qZA()),2&e){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,a.selectEndSessinIndicator$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,4,a.selectEndSessinIndicator$))}}function D(e,l){if(1&e&&(t.TgZ(0,"div",1),t.YNc(1,Y,5,6,"div",2),t.ALo(2,"async"),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,a.selectCanAccessCash$))}}let J=(()=>{class e{constructor(a){this.store=a,this.selectCanAccessCash$=this.store.select(S.I1),this.selectActiveSession$=this.store.select(g.t$),this.selectEndSessinIndicator$=this.store.select(g.e2)}endSession(a){confirm("Do you really want to End the Session")&&this.store.dispatch((0,g.RJ)({sessionId:a}))}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(v.yh))};static#s=this.\u0275cmp=t.Xpm({type:e,selectors:[["hotel-orderapp-possession-feature-active-session"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[["class","bg-gray-50 p-2 text-center",4,"ngIf"],[1,"bg-gray-50","p-2","text-center"],[4,"ngIf"],["class","bg-red-300 px-2 font-bold text-center rounded-md hover:cursor-pointer py-1",3,"click",4,"ngIf"],[1,"bg-red-300","px-2","font-bold","text-center","rounded-md","hover:cursor-pointer","py-1",3,"click"]],template:function(r,i){1&r&&(t.YNc(0,D,3,3,"div",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,i.selectActiveSession$))},dependencies:[o.ez,o.O5,o.Ov]})}return e})();var F=s(3317);function N(e,l){1&e&&(t.TgZ(0,"div",5),t._UZ(1,"hotel-orderapp-possession-feature-active-session"),t.qZA())}function Q(e,l){if(1&e){const a=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(3).$implicit,X=t.oxw(2);return t.KtG(X.printSessionReport(i.id))}),t._uU(1," DOWNLOAD "),t.qZA()}}function R(e,l){if(1&e&&(t.TgZ(0,"div",11),t.YNc(1,Q,2,0,"div",12),t.ALo(2,"async"),t.qZA()),2&e){const a=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,1,a.selectPrintSessionReportIndicator$))}}function m(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1,"Downloading."),t.qZA())}function H(e,l){if(1&e&&(t.TgZ(0,"div",5)(1,"div",6),t._uU(2,"End Time"),t.qZA(),t.TgZ(3,"div",7),t._uU(4),t.ALo(5,"timesago"),t.qZA(),t.YNc(6,R,3,3,"div",9)(7,m,2,0,"div",10),t.ALo(8,"async"),t.qZA()),2&e){const a=t.oxw().$implicit,r=t.oxw().ngIf,i=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,3,a.endTime)),t.xp6(2),t.Q6J("ngIf",r.isCashier),t.xp6(1),t.Q6J("ngIf",t.lcZ(8,5,i.selectPrintSessionReportIndicator$))}}function M(e,l){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._uU(3,"Start Time"),t.qZA(),t.TgZ(4,"div",7),t._uU(5),t.ALo(6,"timesago"),t.qZA()(),t.YNc(7,N,2,0,"div",8)(8,H,9,7,"div",8),t.qZA()),2&e){const a=l.$implicit;t.xp6(5),t.Oqu(t.lcZ(6,3,a.startTime)),t.xp6(2),t.Q6J("ngIf",null===a.endTime),t.xp6(1),t.Q6J("ngIf",a.endTime)}}function B(e,l){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2),t._uU(2,"Sessions of the day"),t.qZA(),t.YNc(3,M,9,5,"div",3),t.ALo(4,"async"),t.qZA()),2&e){const a=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,a.selectPosSessions$))}}let G=(()=>{class e{constructor(a){this.store=a,this.selectPosSessions$=this.store.select(g.Sl),this.selectSignedUser$=this.store.select(S.JS),this.selectPrintSessionReportIndicator$=this.store.select(g.vF)}printSessionReport(a){this.store.dispatch((0,g.aZ)({sessionId:a}))}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(v.yh))};static#s=this.\u0275cmp=t.Xpm({type:e,selectors:[["hotel-orderapp-possession-feature-session-list"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[["class","bg-white border p-2",4,"ngIf"],[1,"bg-white","border","p-2"],[1,"font-bold"],["class","grid grid-cols-2 m-2 bg-gray-50 p-2",4,"ngFor","ngForOf"],[1,"grid","grid-cols-2","m-2","bg-gray-50","p-2"],[1,"col-span-1"],[1,"font-semibold"],[1,"font-light"],["class","col-span-1",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],[1,""],["class","bg-gray-200 py-1 px-2 rounded-md inline-block cursor-pointer hover:bg-gray-300",3,"click",4,"ngIf"],[1,"bg-gray-200","py-1","px-2","rounded-md","inline-block","cursor-pointer","hover:bg-gray-300",3,"click"]],template:function(r,i){1&r&&(t.YNc(0,B,5,3,"div",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,i.selectSignedUser$))},dependencies:[o.ez,o.sg,o.O5,o.Ov,J,F.UU]})}return e})();var y=s(6223);function j(e,l){if(1&e){const a=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.submit())}),t._uU(2," START "),t.qZA()()}}let z=(()=>{class e{constructor(a){this.store=a,this.cash=new y.NI(""),this.selecStartSessinIndicator$=this.store.select(g.AN)}submit(){console.log(this.cash.value),this.store.dispatch((0,g.yj)({cash:this.cash.value?this.cash.value:0}))}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(v.yh))};static#s=this.\u0275cmp=t.Xpm({type:e,selectors:[["hotel-orderapp-possession-feature-session-add"]],standalone:!0,features:[t.jDz],decls:6,vars:4,consts:[[1,"bg-white","p-2","border","m-2"],[1,"grid","grid-cols-4","gap-2"],[1,"col-span-3"],["type","number","id","startCount","placeholder","Enter Inital Cash",1,"py-1","px-2","border","rounded-md",3,"formControl"],["class","col-span-1 flex justify-center items-center",4,"ngIf"],[1,"col-span-1","flex","justify-center","items-center"],[1,"bg-green-300","px-2","font-bold","text-center","rounded-md","hover:cursor-pointer","py-1",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"input",3),t.qZA(),t.YNc(4,j,3,0,"div",4),t.ALo(5,"async"),t.qZA()()),2&r&&(t.xp6(3),t.Q6J("formControl",i.cash),t.xp6(1),t.Q6J("ngIf",!0!==t.lcZ(5,2,i.selecStartSessinIndicator$)))},dependencies:[o.ez,o.O5,o.Ov,y.UX,y.Fj,y.wV,y.JJ,y.oH]})}return e})();function u(e,l){1&e&&(t.TgZ(0,"div",8),t._uU(1," No Active Sessions "),t.qZA())}function x(e,l){1&e&&(t.TgZ(0,"div"),t._UZ(1,"hotel-orderapp-possession-feature-session-add"),t.qZA())}function C(e,l){if(1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"json"),t.qZA()),2&e){const a=l.ngIf;t.xp6(1),t.hij(" ",t.lcZ(2,1,a)," ")}}function Z(e,l){1&e&&(t.TgZ(0,"div")(1,"div",10),t._uU(2," Front Office "),t.qZA(),t.TgZ(3,"div",11),t._uU(4," Orders "),t.qZA()())}function T(e,l){1&e&&(t.TgZ(0,"div",12),t._uU(1," Back Office "),t.qZA())}function A(e,l){1&e&&(t.TgZ(0,"div",13),t._uU(1," Dashboard "),t.qZA())}function O(e,l){1&e&&(t.TgZ(0,"div",14),t._uU(1," Kitchen Display "),t.qZA())}let E=(()=>{class e{constructor(a){this.store=a,this.selectCanAccessBackOffice$=this.store.select(S.Iw),this.selectCanAccessCash$=this.store.select(S.I1),this.selectCanAccessKitchenDisplay$=this.store.select(S.mq),this.selectActiveSession$=this.store.select(g.t$),this.selectCloseSessionErrorMessage$=this.store.select(g.fs),console.log("sheell component constructor called."),this.store.dispatch((0,g.C$)())}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(v.yh))};static#s=this.\u0275cmp=t.Xpm({type:e,selectors:[["hotel-orderapp-shell"]],standalone:!0,features:[t.jDz],decls:18,vars:23,consts:[[1,"bg-gray-100"],[1,"bg-white","border","p-2","h-screen","max-w-sm","mx-auto"],["class","pt-20 text-gray-800 font-bold",4,"ngIf"],[4,"ngIf"],["class","bg-red-400 text-center rounded-md p-2",4,"ngIf"],["class","bg-gray-900 text-white p-2 mt-5 text-center rounded-md cursor-pointer hover:bg-gray-700","routerLink","office",4,"ngIf"],["class","bg-gray-900 text-white mt-5 p-2 text-center rounded-md cursor-pointer hover:bg-gray-700","routerLink","dashboard",4,"ngIf"],["class","bg-gray-900 text-white mt-5 p-2 text-center rounded-md cursor-pointer hover:bg-gray-700","routerLink","kitchen",4,"ngIf"],[1,"pt-20","text-gray-800","font-bold"],[1,"bg-red-400","text-center","rounded-md","p-2"],["routerLink","home",1,"bg-blue-900","text-white","p-2","text-center","rounded-md","mt-5","cursor-pointer","hover:bg-blue-700"],["routerLink","order",1,"bg-blue-900","text-white","p-2","text-center","rounded-md","mt-5","cursor-pointer","hover:bg-blue-700"],["routerLink","office",1,"bg-gray-900","text-white","p-2","mt-5","text-center","rounded-md","cursor-pointer","hover:bg-gray-700"],["routerLink","dashboard",1,"bg-gray-900","text-white","mt-5","p-2","text-center","rounded-md","cursor-pointer","hover:bg-gray-700"],["routerLink","kitchen",1,"bg-gray-900","text-white","mt-5","p-2","text-center","rounded-md","cursor-pointer","hover:bg-gray-700"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"hotel-orderapp-possession-feature-session-list"),t.YNc(3,u,2,0,"div",2),t.ALo(4,"async"),t.YNc(5,x,2,0,"div",3),t.ALo(6,"async"),t.ALo(7,"async"),t.YNc(8,C,3,3,"div",4),t.ALo(9,"async"),t.YNc(10,Z,5,0,"div",3),t.ALo(11,"async"),t.YNc(12,T,2,0,"div",5),t.ALo(13,"async"),t.YNc(14,A,2,0,"div",6),t.ALo(15,"async"),t.YNc(16,O,2,0,"div",7),t.ALo(17,"async"),t.qZA()()),2&r&&(t.xp6(3),t.Q6J("ngIf",void 0===t.lcZ(4,7,i.selectActiveSession$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,9,i.selectCanAccessCash$)&&void 0===t.lcZ(7,11,i.selectActiveSession$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,13,i.selectCloseSessionErrorMessage$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,15,i.selectActiveSession$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(13,17,i.selectCanAccessBackOffice$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(15,19,i.selectCanAccessCash$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(17,21,i.selectCanAccessKitchenDisplay$)))},dependencies:[o.ez,o.O5,o.Ov,o.Ts,I.ZX,P.Bz,P.rH,G,z]})}return e})();var K=s(8995),n=s(608),d=s(5154),p=s(2687),h=s(7787),c=s(1646),f=s(5153);const W=[{path:"",component:E},{path:"home",loadChildren:()=>Promise.all([s.e(770),s.e(617),s.e(651),s.e(305),s.e(281),s.e(248),s.e(592),s.e(704)]).then(s.bind(s,1704)).then(e=>e.homeRoutes),canActivate:[F.In]},{path:"office",loadChildren:()=>Promise.all([s.e(770),s.e(617),s.e(651),s.e(592),s.e(461)]).then(s.bind(s,8610)).then(e=>e.shellRoutes),providers:[(0,v.oY)(n.TE,n.K3),(0,d.y3)(n.f),(0,v.oY)(h.ll,h.Td),(0,d.y3)(h.Bn),(0,v.oY)(c.XI,c.g9),(0,d.y3)(c.uJ),(0,v.oY)(f.WF,f.Og),(0,d.y3)(f.yh)]},{path:"order",loadChildren:()=>Promise.all([s.e(770),s.e(617),s.e(651),s.e(305),s.e(281),s.e(592),s.e(849)]).then(s.bind(s,6849)).then(e=>e.orderRoutes)},{path:"history",loadChildren:()=>Promise.all([s.e(770),s.e(617),s.e(651),s.e(683),s.e(525),s.e(592),s.e(162)]).then(s.bind(s,9162)).then(e=>e.orderHistoryRoutes)},{path:"homedelivery",loadChildren:()=>Promise.all([s.e(770),s.e(104),s.e(592),s.e(987)]).then(s.bind(s,3987)).then(e=>e.homeDeliveryRoutes)},{path:"take-away",loadComponent:()=>s.e(293).then(s.bind(s,8293)).then(e=>e.OrderappOrderFeatureTakeAwayComponent)},{path:"count",loadComponent:()=>s.e(592).then(s.bind(s,9891)).then(e=>e.OrderappOrderFeatureProductCountComponent)},{path:"order",loadChildren:()=>Promise.resolve().then(s.bind(s,8866)).then(e=>e.orderRoutes)},{path:"cart",loadComponent:()=>Promise.all([s.e(305),s.e(281),s.e(248)]).then(s.bind(s,4248)).then(e=>e.OrderappCartFeatureCartListComponent),providers:[(0,v.oY)(K.wM,K.C$)]},{path:"dashboard",loadChildren:()=>Promise.all([s.e(770),s.e(617),s.e(651),s.e(592),s.e(873)]).then(s.bind(s,1873)).then(e=>e.dashboardRoutes),providers:[(0,v.oY)(p.nB,p.l4),(0,d.y3)(p.fK)]},{path:"kitchen",loadChildren:()=>Promise.all([s.e(770),s.e(617),s.e(683),s.e(104),s.e(525),s.e(91)]).then(s.bind(s,91)).then(e=>e.kitchenRoutes)}]}}]);