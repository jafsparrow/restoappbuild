"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[748],{6748:(M,b,c)=>{c.r(b),c.d(b,{OrderappBackofficeFeatureTableManageComponent:()=>X});var p=c(2200),d=c(1537),m=(c(4915),c(8610)),l=c(9417),e=c(3664),s=c(2615),f=c(9640);const h=t=>({"bg-green-400":t});function v(t,a){if(1&t&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&t){const i=a.$implicit;e.Y8G("value",i.id),e.R7$(),e.SpI(" ",i.name," ")}}function g(t,a){1&t&&(e.j41(0,"div"),e.EFF(1," Adding.... "),e.k0s())}function T(t,a){if(1&t){const i=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){s.eBV(i);const r=e.XpG(2);return s.Njj(r.addTable())}),e.EFF(1),e.k0s()}if(2&t){const i=e.XpG(2);e.Y8G("disabled",!i.tableAddForm.valid)("ngClass",e.eq3(3,h,i.tableAddForm.valid)),e.R7$(),e.SpI(" ",i.data&&i.data.table?"UPDATE":"ADD"," ")}}function C(t,a){if(1&t&&(e.j41(0,"div",7)(1,"select",8),e.Z7z(2,v,2,2,"option",9,e.fX1),e.k0s(),e.nVh(4,g,2,0,"div"),e.nI1(5,"async"),e.vZN(6,T,2,5,"button",10),e.k0s()),2&t){const i=e.XpG();e.R7$(2),e.Dyx(a),e.R7$(2),e.vxM(e.bMT(5,1,i.selectTableAddIndicator$)?4:6)}}let F=(()=>{var t;class a{constructor(o,r,n){this.store=o,this.data=r,this.dialogRef=n,this.selectFloors$=this.store.select(d.AA),this.selectTableAddIndicator$=this.store.select(d.vq),this.tableAddForm=new l.gE({name:new l.MJ("",{validators:[l.k0.required]}),capacity:new l.MJ("5",{validators:[l.k0.required]}),floorId:new l.MJ("",{validators:[l.k0.required]})})}ngOnInit(){const o=this.data?.table;console.log("kitchen t edit",o),o&&this.tableAddForm.patchValue(o)}addTable(){if(this.tableAddForm.valid)if(this.data&&this.data.table)this.store.dispatch((0,d.am)({tabledId:this.data.table.id,table:this.tableAddForm.value}));else{const o={...this.tableAddForm.value};this.store.dispatch((0,d.GC)({table:o}))}}static#e=t=()=>(this.\u0275fac=function(r){return new(r||a)(e.rXU(f.il),e.rXU(m.e),e.rXU(m.k))},this.\u0275cmp=e.VBU({type:a,selectors:[["hotel-orderapp-table-feature-add"]],decls:15,vars:4,consts:[[1,"p-3"],[1,"mx-auto","grid","max-w-md","gap-1","bg-white","p-2"],[1,"mb-2","font-bold"],[1,"grid","grid-cols-1","gap-2",3,"formGroup"],[1,"grid","gap-2"],["for","tableName"],["type","text","formControlName","name",1,"w-full","rounded-md","border","px-2","py-1"],[1,""],["name","floorName","id","floorName","formControlName","floorId",1,"w-full","rounded-md","border","px-2","py-1"],[3,"value"],["type","submit",1,"bg-gray-700","text-white","py-1","px-2","rounded-md","mt-3","w-full",3,"disabled","ngClass"],["type","submit",1,"bg-gray-700","text-white","py-1","px-2","rounded-md","mt-3","w-full",3,"click","disabled","ngClass"]],template:function(r,n){if(1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3,"Add a Table"),e.k0s(),e.j41(4,"form",3)(5,"div",4)(6,"label",5),e.EFF(7,"Table Name"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",4)(10,"div",7)(11,"label",5),e.EFF(12,"Floor Name"),e.k0s(),e.nVh(13,C,7,3,"div",7),e.nI1(14,"async"),e.k0s()()()()()),2&r){let u;e.R7$(4),e.Y8G("formGroup",n.tableAddForm),e.R7$(9),e.vxM((u=e.bMT(14,2,n.selectFloors$))?13:-1,u)}},dependencies:[p.MD,p.YU,l.X1,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.j4,l.JD,p.Jj],encapsulation:2}))}return t(),a})();const k=t=>({"bg-green-400":t});function x(t,a){1&t&&(e.j41(0,"div"),e.EFF(1,"Adding...."),e.k0s())}function y(t,a){if(1&t){const i=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){s.eBV(i);const r=e.XpG();return s.Njj(r.addFloor())}),e.EFF(1),e.k0s()}if(2&t){const i=e.XpG();e.Y8G("disabled",!i.floorAddForm.valid)("ngClass",e.eq3(3,k,i.floorAddForm.valid)),e.R7$(),e.SpI(" ",i.data&&i.data.floor?"UPDATE":"ADD"," ")}}let _=(()=>{var t;class a{constructor(o,r,n){this.store=o,this.data=r,this.dialogRef=n,this.selectAddFloorIndicator$=this.store.select(d.b5),this.floorAddForm=new l.gE({name:new l.MJ("",{validators:[l.k0.required]})})}ngOnInit(){const o=this.data?.floor;console.log("floor t edit",o),o&&this.floorAddForm.patchValue(o)}addFloor(){if(this.floorAddForm.valid)if(this.data&&this.data.floor)this.store.dispatch((0,d._B)({floorId:this.data.floor.id,floor:this.floorAddForm.value}));else{const o={...this.floorAddForm.value};this.store.dispatch((0,d.ES)({floor:o}))}}static#e=t=()=>(this.\u0275fac=function(r){return new(r||a)(e.rXU(f.il),e.rXU(m.e),e.rXU(m.k))},this.\u0275cmp=e.VBU({type:a,selectors:[["hotel-orderapp-table-feature-floor-add"]],decls:8,vars:4,consts:[[1,"p-4",3,"formGroup"],[1,"grid","gap-2"],["for","tableName"],["type","text","formControlName","name",1,"w-full","rounded-md","border","px-2","py-1"],["type","submit",1,"bg-gray-700","w-full","mt-5","text-white","rounded-full","py-1",3,"disabled","ngClass"],["type","submit",1,"bg-gray-700","w-full","mt-5","text-white","rounded-full","py-1",3,"click","disabled","ngClass"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1)(2,"label",2),e.EFF(3,"Floor Name"),e.k0s(),e.nrm(4,"input",3),e.k0s(),e.nVh(5,x,2,0,"div"),e.nI1(6,"async"),e.vZN(7,y,2,5,"button",4),e.k0s()),2&r&&(e.Y8G("formGroup",n.floorAddForm),e.R7$(5),e.vxM(e.bMT(6,2,n.selectAddFloorIndicator$)?5:7))},dependencies:[p.MD,p.YU,l.X1,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,p.Jj],encapsulation:2}))}return t(),a})();const A=t=>({"bg-yellow-400":t});function j(t,a){if(1&t){const i=e.RV6();e.j41(0,"div",6),e.nI1(1,"async"),e.j41(2,"div",8),e.bIt("click",function(){const r=s.eBV(i).$implicit,n=e.XpG(2);return s.Njj(n.findTables(r.id))}),e.EFF(3),e.k0s(),e.j41(4,"div",9),e.bIt("click",function(){const r=s.eBV(i).$implicit,n=e.XpG(2);return s.Njj(n.editFloor(r))}),e.EFF(5," | "),e.k0s()()}if(2&t){const i=a.$implicit,o=e.XpG(2);e.Y8G("ngClass",e.eq3(4,A,i.id===e.bMT(1,2,o.selectedFloorId$))),e.R7$(3),e.JRh(i.name)}}function $(t,a){if(1&t){const i=e.RV6();e.j41(0,"div",1),e.Z7z(1,j,6,6,"div",6,e.fX1),e.j41(3,"div",7),e.bIt("click",function(){s.eBV(i);const r=e.XpG();return s.Njj(r.addFloor())}),e.EFF(4," ADD FLOOR "),e.k0s()()}2&t&&(e.R7$(),e.Dyx(a))}function O(t,a){if(1&t){const i=e.RV6();e.j41(0,"div")(1,"div",11)(2,"div",12),e.EFF(3),e.k0s(),e.j41(4,"div",13),e.bIt("click",function(){const r=s.eBV(i).$implicit,n=e.XpG(2);return s.Njj(n.editTable(r))}),e.EFF(5," | "),e.k0s()()()}if(2&t){const i=a.$implicit;e.R7$(3),e.JRh(i.name)}}function I(t,a){if(1&t&&(e.j41(0,"div",2),e.DNE(1,O,6,1,"div",10),e.nI1(2,"async"),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,i.selectTables$))}}function w(t,a){1&t&&(e.j41(0,"div",3),e.EFF(1,"Loading..."),e.k0s())}let E=(()=>{var t;class a{constructor(o,r){this.store=o,this.dialog=r,this.selectFloors$=this.store.select(d.AA),this.selectTableLoadIndicator$=this.store.select(d.s6),this.selectTables$=this.store.select(d.e),this.selectedFloorId$=this.store.select(d.Fr),this.productAddForm=new l.gE({name:new l.MJ("",{validators:[l.k0.required]})})}findTables(o){this.store.dispatch((0,d._6)({floorId:o}))}addTable(){this.dialog.open(F,{})}editTable(o){this.dialog.open(F,{data:{table:o}})}addFloor(){this.dialog.open(_,{})}editFloor(o){this.dialog.open(_,{data:{floor:o}})}static#e=t=()=>(this.\u0275fac=function(r){return new(r||a)(e.rXU(f.il),e.rXU(m.h))},this.\u0275cmp=e.VBU({type:a,selectors:[["hotel-orderapp-table-feature-list"]],decls:10,vars:6,consts:[[1,"p-4"],[1,"flex","flex-row","flex-wrap","gap-3","overflow-x-scroll","py-2"],[1,"grid","grid-cols-1","sm:grid-cols-8","gap-4","p-2"],[1,"h-52","text-center","p-2"],[1,"text-right","px-2"],[1,"bg-gray-700","text-white","py-1","hover:bg-gray-600","px-2","text-center","cursor-pointer","rounded-md","inline-block",3,"click"],[1,"min-w-[70px]","shrink-0","rounded-full","bg-gray-200","px-3","py-1","cursor-pointer","flex","hover:scale-105",3,"ngClass"],[1,"bg-gray-700","text-white","text-center","py-1","px-2","rounded-md","cursor-pointer","hover:bg-gray-600",3,"click"],[3,"click"],[1,"px-2","bg-gray-400","hover:bg-pink-400","rotate-45","rounded-full","ml-2",3,"click"],[4,"ngFor","ngForOf"],[1,"sm:aspect-square","rounded-md","border-l-2","border-green-600","p-3","shadow-md","relative"],[1,"text-sm"],[1,"flex","h-8","w-8","items-center","rotate-45","hover:bg-pink-400","justify-center","border","rounded-full","bg-gray-100","p-2","absolute","bottom-1","right-1","cursor-pointer",3,"click"]],template:function(r,n){if(1&r&&(e.j41(0,"div",0)(1,"div"),e.nVh(2,$,5,0,"div",1),e.nI1(3,"async"),e.nVh(4,I,3,3,"div",2),e.nI1(5,"async"),e.vZN(6,w,2,0,"div",3),e.j41(7,"div",4)(8,"div",5),e.bIt("click",function(){return n.addTable()}),e.EFF(9," ADD TABLE "),e.k0s()()()()),2&r){let u;e.R7$(2),e.vxM((u=e.bMT(3,2,n.selectFloors$))?2:-1,u),e.R7$(2),e.vxM(!1===e.bMT(5,4,n.selectTableLoadIndicator$)?4:6)}},dependencies:[p.MD,p.YU,p.Sq,m.l,l.X1,p.Jj],encapsulation:2}))}return t(),a})(),X=(()=>{var t;class a{constructor(o){this.store=o,this.store.dispatch((0,d.M2)()),this.store.dispatch((0,d._6)({floorId:1}))}static#e=t=()=>(this.\u0275fac=function(r){return new(r||a)(e.rXU(f.il))},this.\u0275cmp=e.VBU({type:a,selectors:[["hotel-orderapp-backoffice-feature-table-manage"]],decls:1,vars:0,template:function(r,n){1&r&&e.nrm(0,"hotel-orderapp-table-feature-list")},dependencies:[E],encapsulation:2}))}return t(),a})()}}]);