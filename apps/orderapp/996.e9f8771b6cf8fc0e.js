"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[996],{8996:(I,u,n)=>{n.r(u),n.d(u,{OrderappBackofficeFeatureUserManageComponent:()=>w});var o=n(6814),p=n(1755),s=n(6223),c=n(9347),e=n(9212),m=n(4221);function g(t,a){1&t&&(e.TgZ(0,"div"),e._uU(1,"Adding...."),e.qZA())}const U=t=>({"bg-green-400":t});function v(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(r);const d=e.oxw();return e.KtG(d.addUser())}),e._uU(1),e.qZA()}if(2&t){const r=e.oxw();e.Q6J("disabled",!r.userAddForm.valid)("ngClass",e.VKq(3,U,r.userAddForm.valid)),e.xp6(1),e.hij(" ",r.data&&r.data.user?"UPDATE":"ADD"," ")}}let f=(()=>{class t{constructor(r,i,d){this.store=r,this.data=i,this.dialogRef=d,this.selectAddUserIndicator$=this.store.select(p.wp),this.userAddForm=new s.cw({name:new s.NI("",{validators:[s.kI.required]}),username:new s.NI("",{validators:[s.kI.required]}),password:new s.NI("",{validators:[s.kI.required]}),phone:new s.NI("",{validators:[s.kI.required]}),isCashier:new s.NI(!1),isKitchenUser:new s.NI(!1),isWaiter:new s.NI(!1),isAdmin:new s.NI(!1),isHomeDeliveryUser:new s.NI(!1)})}ngOnInit(){const r=this.data?.user;r&&this.userAddForm.patchValue(r)}addUser(){if(this.userAddForm.valid)if(this.data&&this.data.user)this.store.dispatch((0,p.Nq)({userId:this.data.user.id,user:this.userAddForm.value}));else{const r={...this.userAddForm.value};this.store.dispatch((0,p.cn)({user:r}))}}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(m.yh),e.Y36(c.WI),e.Y36(c.so))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["hotel-orderapp-user-feature-user-add"]],standalone:!0,features:[e.jDz],decls:32,vars:5,consts:[[1,"p-2"],[1,"font-semibold","pb-2"],[1,"grid","grid-cols-1","gap-2","max-w-md",3,"formGroup"],["type","text","formControlName","name","placeholder","Name",1,"w-full","border","p-2"],["type","text","formControlName","username","placeholder","Login Username",1,"w-full","border","p-2"],["type","number","formControlName","password","placeholder","Password",1,"w-full","border","p-2"],["type","text","formControlName","phone","placeholder","Phone",1,"w-full","border","p-2"],["for","isCashier"],["type","checkbox","formControlName","isCashier",1,"ml-5","w-6","h-6"],["for","isWaiter"],["type","checkbox","formControlName","isWaiter",1,"ml-5","w-6","h-6"],["for","isKitchenUser"],["type","checkbox","formControlName","isKitchenUser",1,"ml-5","w-6","h-6"],["type","checkbox","formControlName","isHomeDeliveryUser",1,"ml-5","w-6","h-6"],[4,"ngIf","ngIfElse"],["addNew",""],["type","submit",1,"bg-gray-700","text-white","rounded-full","py-1",3,"disabled","ngClass","click"]],template:function(i,d){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Add a user"),e.qZA(),e.TgZ(3,"form",2)(4,"div"),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"div"),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"div"),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"div"),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"div")(13,"label",7),e._uU(14,"Is Cashier"),e.qZA(),e._UZ(15,"input",8),e.qZA(),e.TgZ(16,"div")(17,"label",9),e._uU(18,"Is Waiter"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div")(21,"label",11),e._uU(22,"Is Kitchen User"),e.qZA(),e._UZ(23,"input",12),e.qZA(),e.TgZ(24,"div")(25,"label",11),e._uU(26,"Is Delivery User"),e.qZA(),e._UZ(27,"input",13),e.qZA(),e.YNc(28,g,2,0,"div",14),e.ALo(29,"async"),e.YNc(30,v,2,5,"ng-template",null,15,e.W1O),e.qZA()()),2&i){const l=e.MAs(31);e.xp6(3),e.Q6J("formGroup",d.userAddForm),e.xp6(25),e.Q6J("ngIf",e.lcZ(29,3,d.selectAddUserIndicator$))("ngIfElse",l)}},dependencies:[o.ez,o.mk,o.O5,o.Ov,s.UX,s._Y,s.Fj,s.wV,s.Wl,s.JJ,s.JL,s.sg,s.u]})}return t})();function _(t,a){1&t&&(e.TgZ(0,"div"),e._uU(1,"Waiter"),e.qZA())}function h(t,a){1&t&&(e.TgZ(0,"div"),e._uU(1,"Kitchen User"),e.qZA())}function Z(t,a){1&t&&(e.TgZ(0,"div"),e._uU(1,"Cashier"),e.qZA())}function A(t,a){1&t&&(e.TgZ(0,"div"),e._uU(1,"Homedelivery"),e.qZA())}function x(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"div",10)(1,"div",5),e._uU(2),e.qZA(),e.TgZ(3,"div",6),e._uU(4),e.qZA(),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,_,2,0,"div",11)(9,h,2,0,"div",11)(10,Z,2,0,"div",11)(11,A,2,0,"div",11),e.TgZ(12,"div",12),e.NdJ("click",function(){const l=e.CHM(r).$implicit,F=e.oxw(2);return e.KtG(F.editUser(l))}),e._uU(13," edit "),e.qZA()()()}if(2&t){const r=a.$implicit;e.xp6(2),e.Oqu(r.name),e.xp6(2),e.Oqu(r.username),e.xp6(2),e.Oqu(r.password),e.xp6(2),e.Q6J("ngIf",r.isWaiter),e.xp6(1),e.Q6J("ngIf",r.isKitchenUser),e.xp6(1),e.Q6J("ngIf",r.isCashier),e.xp6(1),e.Q6J("ngIf",r.isHomeDeliveryUser)}}function T(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._uU(2,"Users"),e.qZA(),e.TgZ(3,"div",4)(4,"div",5),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"div",6),e._uU(7,"Username"),e.qZA(),e.TgZ(8,"div",6),e._uU(9,"Password"),e.qZA(),e.TgZ(10,"div",6),e._uU(11,"Roles"),e.qZA()(),e.YNc(12,x,14,7,"div",7),e.TgZ(13,"div",8)(14,"div",9),e.NdJ("click",function(){e.CHM(r);const d=e.oxw();return e.KtG(d.addUser())}),e._uU(15," ADD "),e.qZA()()()}if(2&t){const r=a.ngIf;e.xp6(12),e.Q6J("ngForOf",r)}}let C=(()=>{class t{constructor(r,i){this.store=r,this.dialog=i,this.selectUsers$=this.store.select(p.YN)}addUser(){this.dialog.open(f,{})}editUser(r){this.dialog.open(f,{data:{user:r}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(m.yh),e.Y36(c.uw))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["hotel-orderapp-user-feature-user-list"]],standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[1,"bg-gray-100","p-2"],["class","max-w-md mx-auto p-2 grid grid-cols-1 gap-1",4,"ngIf"],[1,"max-w-md","mx-auto","p-2","grid","grid-cols-1","gap-1"],[1,"font-semibold"],[1,"grid","grid-cols-5","p-2"],[1,"col-span-2"],[1,"col-span-1"],["class","grid grid-cols-5 p-2 bg-white rounded-md",4,"ngFor","ngForOf"],[1,"text-right","pl-2"],[1,"bg-green-300","py-1","px-2","text-center","inline-block","rounded-md","cursor-pointer",3,"click"],[1,"grid","grid-cols-5","p-2","bg-white","rounded-md"],[4,"ngIf"],[1,"text-center","bg-gray-900","text-white","hover:bg-gray-700","cursor-pointer","rounded-full",3,"click"]],template:function(i,d){1&i&&(e.TgZ(0,"div",0),e.YNc(1,T,16,1,"div",1),e.ALo(2,"async"),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,d.selectUsers$)))},dependencies:[o.ez,o.sg,o.O5,o.Ov]})}return t})(),w=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["hotel-orderapp-backoffice-feature-user-manage"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(i,d){1&i&&e._UZ(0,"hotel-orderapp-user-feature-user-list")},dependencies:[o.ez,C]})}return t})()}}]);