"use strict";(self.webpackChunkorderapp=self.webpackChunkorderapp||[]).push([[76],{3298:(j,y,r)=>{r.r(y),r.d(y,{OrderappOrderFeatureProductCountComponent:()=>h});var C=r(8610),f=r(9055),e=r(2007),F=r(2021),t=r(3664),g=r(2615),b=r(9640);const x=()=>["S","V","biriyani","majboos","onion","tomato","onion fry","saloona spicy","saloona normal","single single"],T=()=>[1,2,3,4,5,6,7,8,9];function v(d,s){if(1&d){const u=t.RV6();t.j41(0,"div",12),t.bIt("click",function(){const i=g.eBV(u).$implicit,c=t.XpG();return g.Njj(c.buttonClick(i))}),t.EFF(1),t.k0s()}if(2&d){const u=s.$implicit;t.R7$(),t.SpI(" ",u," ")}}let h=(()=>{var d;class s{constructor(o,i,c){this.data=o,this.dialogRef=i,this.store=c,this.selectedVariant=null,this.defaultCount=1,this.isPrestine=!0,this.currentCount=1,this.selectedModifiers=[],this.generatedKey="",this.initialKey="",this.productNote="",this.selectedProduct=this.data.product,this.selectedVariant=this.data.selectedVariant??null,this.initialKey=this.selectedVariant?this.selectedProduct.id+"-"+this.selectedVariant.id:this.selectedProduct.id.toString(),this.generatedKey=this.initialKey}buttonClick(o){console.log(o);let i="";this.isPrestine?i=0===o?"10":o.toString():(i=this.currentCount.toString().concat(o.toString()),console.log(i)),this.isPrestine=!1,this.currentCount=+i}clearCount(){this.isPrestine=!0,this.currentCount=this.defaultCount}backSpaceCount(){this.currentCount=this.currentCount<10?this.defaultCount:+this.currentCount.toString().slice(0,-1)}addToCart(){this.store.dispatch((0,f.bE)({item:{count:this.currentCount,product:this.selectedProduct,modifiers:this.selectedModifiers,variant:this.selectedVariant,note:this.productNote},key:this.generatedKey})),this.dialogRef.close()}modifierSelectionChange(o){let i="";const c=[];Object.entries(o).forEach(n=>{i=i+"-"+n[0]+"-"+n[1].id,c.push(n[1])}),this.selectedModifiers=c,console.log("key is ",i),this.generatedKey=this.selectedVariant?this.initialKey+"-"+this.selectedVariant.id+i:this.initialKey+i,console.log("selection chagned data",this.generatedKey)}handleNoteUpdate(o){console.log("note is ",o),this.productNote=o}static#e=d=()=>(this.\u0275fac=function(i){return new(i||s)(t.rXU(C.e),t.rXU(C.k),t.rXU(b.il))},this.\u0275cmp=t.VBU({type:s,selectors:[["hotel-orderapp-order-feature-product-count"]],decls:27,vars:6,consts:[[1,"bg-gray-300","p-3","h-full","overflow-y-scroll"],[1,"max-w-md","mx-auto"],["hideToggle",""],[1,"font-semibold"],[1,"py-4"],[3,"noteChangeEmitter","noteSuggestions"],[1,"w-full","flex","justify-center","items-center"],[1,"sm:w-1/2","w-full","p-3"],[1,"w-full","g","p-3","grid","place-content-center"],[1,"text-xl","font-bold"],[1,"grid","grid-rows-4","grid-cols-3","gap-2","aspect-square"],[1,"rounded-md","bg-white","drop-shadow","border-2","border-gray-900","p-2","flex","justify-center","items-center","font-bold"],[1,"rounded-md","bg-white","drop-shadow","border-2","border-gray-900","p-2","flex","justify-center","items-center","font-bold",3,"click"],[1,"p-3","bg-green-700","text-white","rounded-full","w-full","text-center","font-bold","cursor-pointer",3,"click"]],template:function(i,c){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"mat-accordion")(3,"mat-expansion-panel",2)(4,"mat-expansion-panel-header")(5,"mat-panel-title")(6,"div",3),t.EFF(7),t.k0s()()(),t.j41(8,"div",4)(9,"lib-cart-item-note",5),t.bIt("noteChangeEmitter",function(a){return c.handleNoteUpdate(a)}),t.k0s()()()(),t.j41(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),t.EFF(14),t.k0s()(),t.j41(15,"div")(16,"div",10),t.Z7z(17,v,2,1,"div",11,t.fX1),t.j41(19,"div",12),t.bIt("click",function(){return c.clearCount()}),t.EFF(20," CLR "),t.k0s(),t.j41(21,"div",12),t.bIt("click",function(){return c.buttonClick(0)}),t.EFF(22," 0 "),t.k0s(),t.j41(23,"div",12),t.bIt("click",function(){return c.backSpaceCount()}),t.EFF(24," BCK "),t.k0s()()()()(),t.j41(25,"div",13),t.bIt("click",function(){return c.addToCart()}),t.EFF(26," OK "),t.k0s()()()),2&i&&(t.R7$(7),t.Lme(" ",c.selectedProduct.name," ",c.selectedVariant?"- "+c.selectedVariant.name:""," "),t.R7$(2),t.Y8G("noteSuggestions",t.lJ4(4,x)),t.R7$(5),t.SpI(" ",c.isPrestine?1:c.currentCount," "),t.R7$(3),t.Dyx(t.lJ4(5,T)))},dependencies:[C.l,e.h,F.MY,F.BS,F.GK,F.Z2,F.WN],encapsulation:2,changeDetection:0}))}return d(),s})()},3946:(j,y,r)=>{r.d(y,{R:()=>g});var C=r(2200),f=r(4731),e=r(3664),F=r(9640);function t(b,x){1&b&&(e.rj2(0,"div",0)(1,"div"),e.EFF(2," Hello ! "),e.rj2(3,"span",1),e.EFF(4),e.eux()()()),2&b&&(e.R7$(4),e.JRh(x.name))}let g=(()=>{var b;class x{constructor(v){this.store=v,this.selectSignedInUser$=this.store.select(f.Y6)}static#e=b=()=>(this.\u0275fac=function(h){return new(h||x)(e.rXU(F.il))},this.\u0275cmp=e.VBU({type:x,selectors:[["hotel-orderapp-auth-feature-signed-user-detail"]],decls:2,vars:3,consts:[[1,"bg-gray-100","p-2","grid","content-center","justify-center","h-16","border","border-b-2"],[1,"font-light"]],template:function(h,d){if(1&h&&(e.nVh(0,t,5,1,"div",0),e.nI1(1,"async")),2&h){let s;e.vxM((s=e.bMT(1,1,d.selectSignedInUser$))?0:-1,s)}},dependencies:[C.MD,C.Jj],encapsulation:2}))}return b(),x})()},7067:(j,y,r)=>{r.d(y,{qX:()=>c,Vk:()=>v,hv:()=>g}),r(4915);var f=r(3974),e=r(3664);function F(n,a){if(1&n&&(e.rj2(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3),e.eux(),e.rj2(4,"div",3),e.EFF(5),e.nI1(6,"timesago"),e.eux(),e.rj2(7,"div",4),e.EFF(8),e.eux(),e.Hgh(9,"div",5),e.eux(),e.rj2(10,"div",6)(11,"div",5)(12,"div",7)(13,"span",8),e.EFF(14),e.eux()(),e.rj2(15,"div",9),e.EFF(16),e.eux()()(),e.rj2(17,"div",10),e.EFF(18),e.eux()()),2&n){const l=e.XpG();e.R7$(3),e.SpI("Order ",l.order.orderNumber),e.R7$(2),e.SpI(" ",e.bMT(6,6,l.order.createdAt)," "),e.R7$(3),e.SpI(" ",l.order.orderStatus," "),e.R7$(6),e.JRh("table"===l.order.orderType?"Dine In":l.order.orderType),e.R7$(2),e.JRh(l.displayCustomerOrTableName(l.order)),e.R7$(2),e.JRh(l.order.user.name)}}function t(n,a){1&n&&(e.rj2(0,"div"),e.EFF(1,"No Order has passed as input"),e.eux())}let g=(()=>{var n;class a{displayCustomerOrTableName(O){const p=O.customer;return`${p?.firstName} - ${p?.lastName}`}static#e=n=()=>(this.\u0275fac=function(p){return new(p||a)},this.\u0275cmp=e.VBU({type:a,selectors:[["hotel-order-list-item"]],inputs:{order:"order"},decls:2,vars:1,consts:[[1,"rounded-md","bg-white","p-2"],[1,"flex","w-full","flex-row","items-stretch"],[1,"font-bold","capitalize"],[1,"ml-2","border-l-2","text-sm","pl-2","font-light"],[1,"border-l-2","ml-2","px-2","text-xs","border-purple-900","bg-slate-200"],[1,"flex-grow"],[1,"flex","flex-row"],[1,"font-semibod"],[1,"font-semibold"],[1,"font-thin"],[1,"font-bold"]],template:function(p,m){1&p&&e.nVh(0,F,19,8,"div",0)(1,t,2,0,"div"),2&p&&e.vxM(m.order?0:1)},dependencies:[f.Ec],encapsulation:2}))}return n(),a})();function b(n,a){if(1&n&&(e.rj2(0,"div")(1,"div",1)(2,"div",10),e.EFF(3),e.eux(),e.rj2(4,"div",11)(5,"div"),e.EFF(6),e.eux()(),e.rj2(7,"div",12),e.EFF(8),e.eux(),e.rj2(9,"div",13),e.EFF(10),e.nI1(11,"decimalpointpipe"),e.eux()()()),2&n){const l=a.$implicit,O=a.$index;e.R7$(3),e.JRh(O+1),e.R7$(3),e.JRh(l.name),e.R7$(2),e.JRh(l.count),e.R7$(2),e.SpI(" ",e.bMT(11,4,l.amount*l.count)," ")}}function x(n,a){if(1&n&&(e.rj2(0,"div",7),e.Hgh(1,"div",8),e.rj2(2,"div",9),e.EFF(3),e.eux(),e.rj2(4,"div",9),e.EFF(5),e.nI1(6,"decimalpointpipe"),e.eux()()),2&n){const l=a.$implicit;e.R7$(3),e.JRh(l.taxName),e.R7$(2),e.JRh(e.bMT(6,2,l.value))}}function T(n,a){if(1&n&&(e.rj2(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3,"SNO:"),e.eux(),e.rj2(4,"div",3),e.EFF(5,"Item Name:"),e.eux(),e.rj2(6,"div",4),e.EFF(7,"Qty:"),e.eux(),e.rj2(8,"div",5),e.EFF(9,"Tot:"),e.eux()(),e.Z7z(10,b,12,6,"div",null,e.fX1),e.Hgh(12,"div",6),e.rj2(13,"div",7),e.Hgh(14,"div",8),e.rj2(15,"div",9),e.EFF(16,"Bill Total"),e.eux(),e.rj2(17,"div",9),e.EFF(18),e.nI1(19,"decimalpointpipe"),e.eux()(),e.Z7z(20,x,7,4,"div",7,e.fX1),e.rj2(22,"div",7),e.Hgh(23,"div",8),e.rj2(24,"div",9),e.EFF(25,"Net Total"),e.eux(),e.rj2(26,"div",9),e.EFF(27),e.nI1(28,"decimalpointpipe"),e.eux()()()),2&n){const l=e.XpG();e.R7$(10),e.Dyx(l.selectedOrder.orderItems),e.R7$(8),e.SpI(" ",e.bMT(19,2,l.selectedOrder.totalAmount)," "),e.R7$(2),e.Dyx(l.selectedOrder.appliedTaxes),e.R7$(7),e.SpI(" ",e.bMT(28,4,l.selectedOrder.taxedTotal)," ")}}let v=(()=>{var n;class a{static#e=n=()=>(this.\u0275fac=function(p){return new(p||a)},this.\u0275cmp=e.VBU({type:a,selectors:[["hotel-order-items-reciept-view"]],inputs:{selectedOrder:"selectedOrder"},decls:1,vars:1,consts:[[1,"mt-2","border","border-gray-400","p-2","max-w-md","max-h-sm","overflow-y-auto"],[1,"grid","grid-cols-12","gap-2","py-1"],[1,"col-span-1","text-xs","font-bold"],[1,"col-span-6","text-xs","font-bold"],[1,"col-span-3","text-xs","font-bold"],[1,"col-span-2","text-xs","font-bold"],[1,"my-2","h-[1px]","w-full","bg-gray-600"],[1,"grid","grid-cols-4","pt-2"],[1,"col-span-2"],[1,"col-span-1"],[1,"col-span-1","text-xs"],[1,"col-span-6","text-xs"],[1,"col-span-3","text-xs"],[1,"col-span-2","text-xs"]],template:function(p,m){1&p&&e.nVh(0,T,29,6,"div",0),2&p&&e.vxM(m.selectedOrder?0:-1)},dependencies:[f.Yy],encapsulation:2}))}return n(),a})();var h=r(2200),d=r(9417),s=r(2615);const u=()=>[1,2,3,4,5,6,7,8,9,0],o=n=>({"bg-green-700":n});function i(n,a){if(1&n){const l=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){const p=s.eBV(l).$implicit,m=e.XpG();return s.Njj(m.itemClicked(p))}),e.EFF(1),e.k0s()}if(2&n){const l=a.$implicit;e.R7$(),e.SpI(" ",l," ")}}let c=(()=>{var n;class a{constructor(){this.enteredPassword="",this.btnClicked=new e.bkB}itemClicked(O){this.enteredPassword=this.enteredPassword.concat(O.toString()),console.log(this.enteredPassword)}cancelOrder(){console.log("cancel order clicked"),this.btnClicked.emit(!0)}static#e=n=()=>(this.\u0275fac=function(p){return new(p||a)},this.\u0275cmp=e.VBU({type:a,selectors:[["hotel-cancel-order-confirm"]],inputs:{password:"password",btnText:"btnText"},outputs:{btnClicked:"btnClicked"},decls:8,vars:7,consts:[[1,"p-2","rounded-md"],[1,"p-2","flex","flex-wrap","gap-3"],[1,"h-7","w-7","cursor-pointer","rounded-md","bg-green-600","text-white","flex","items-center","justify-center"],[1,"p-2"],["type","password","placeholder","Enter Order Cancel Password",1,"py-2","px-2","border","rounded-md","w-full",3,"ngModelChange","ngModel"],[1,"bg-gray-700","text-white","py-1","px-2","rounded-full","w-full",3,"click","disabled","ngClass"],[1,"h-7","w-7","cursor-pointer","rounded-md","bg-green-600","text-white","flex","items-center","justify-center",3,"click"]],template:function(p,m){1&p&&(e.j41(0,"div",0)(1,"div",1),e.Z7z(2,i,2,1,"div",2,e.fX1),e.k0s(),e.j41(4,"div",3)(5,"input",4),e.mxI("ngModelChange",function(k){return e.DH7(m.enteredPassword,k)||(m.enteredPassword=k),k}),e.k0s()(),e.j41(6,"button",5),e.bIt("click",function(){return m.cancelOrder()}),e.EFF(7),e.k0s()()),2&p&&(e.R7$(2),e.Dyx(e.lJ4(4,u)),e.R7$(3),e.R50("ngModel",m.enteredPassword),e.R7$(),e.Y8G("disabled",m.enteredPassword!==m.password)("ngClass",e.eq3(5,o,m.enteredPassword===m.password)),e.R7$(),e.SpI(" ",m.btnText," "))},dependencies:[h.MD,h.YU,d.YN,d.me,d.BC,d.vS],encapsulation:2}))}return n(),a})()},8559:(j,y,r)=>{r.d(y,{U:()=>h});var C=r(2200),f=r(9417),e=r(4026),F=r(6559),t=r(3664),g=r(2615),b=r(9640);function x(d,s){if(1&d){const u=t.RV6();t.j41(0,"div",10),t.bIt("click",function(){const i=g.eBV(u).$implicit,c=t.XpG();return g.Njj(c.qickSearchNumberSelected(i))}),t.EFF(1),t.k0s()}if(2&d){const u=s.$implicit;t.R7$(),t.SpI(" ",u," ")}}function T(d,s){if(1&d){const u=t.RV6();t.j41(0,"div",12),t.bIt("click",function(){const i=g.eBV(u).$implicit,c=t.XpG(2);return g.Njj(c.qwickTermSelected(i))}),t.EFF(1),t.k0s()}if(2&d){const u=s.$implicit;t.R7$(),t.SpI(" ",u," ")}}function v(d,s){1&d&&t.Z7z(0,T,2,1,"div",11,t.fX1),2&d&&t.Dyx(s)}let h=(()=>{var d;class s{constructor(o){this.store=o,this.selectProductShortcuts$=this.store.select(F.Zp),this.searchTerm=new f.MJ(""),this.quickSearchNumbers=[1,2,3,4,5,6,7,8,9,0],this.quickSearchTerms=["chicken","beef","fish","butter","dum","biriyani","chilly","soup","nashif","masala","mutton","majboos","rice","rubiyan","nehar"],this.quickCreatedTerm=""}ngOnInit(){this.store.dispatch((0,e.ld)({searchTerm:""})),this.searchTerm.valueChanges.subscribe(o=>this.store.dispatch((0,e.ld)({searchTerm:o})))}clearSearchTerm(){this.quickCreatedTerm="",this.searchTerm.setValue("")}qickSearchNumberSelected(o){this.quickCreatedTerm=this.quickCreatedTerm+o.toString(),this.searchTerm.setValue(this.quickCreatedTerm)}qwickTermSelected(o){this.quickCreatedTerm=this.quickSearchTerms?this.quickCreatedTerm+" "+o.toString():o.toString(),this.searchTerm.setValue(this.quickCreatedTerm.trim())}static#e=d=()=>(this.\u0275fac=function(i){return new(i||s)(t.rXU(b.il))},this.\u0275cmp=t.VBU({type:s,selectors:[["hotel-orderapp-product-feature-search"]],decls:15,vars:4,consts:[[1,"relative","w-full","bg-white"],[1,"relative","block","w-full"],[1,"sr-only"],[1,"flex","justify-between"],["placeholder","Search","type","text","name","search",1,"border","border-slate-300","rounded-full","py-2","pl-4","w-full",3,"formControl"],[1,"h-28","overflow-y-scroll","border"],[1,"flex","p-2","gap-3","flex-wrap","sm:gap-4"],[1,"px-2","py-1","text-center","text-xs","sm:text-base","rounded-md","bg-slate-400","font-bold","cursor-pointer"],[1,"flex","p-2","gap-2","flex-wrap"],[1,"absolute","right-3","top-1","w-14","h-7","bg-teal-950","rounded-full","text-white","font-bold","text-lg","grid","place-items-center","hover:bg-red-900","cursor-pointer",3,"click"],[1,"px-2","py-1","text-center","text-xs","sm:text-base","rounded-md","bg-slate-400","font-bold","cursor-pointer",3,"click"],[1,"px-2","py-1","text-center","text-xs","sm:text-base","rounded-md","bg-green-400","font-bold","cursor-pointer"],[1,"px-2","py-1","text-center","text-xs","sm:text-base","rounded-md","bg-green-400","font-bold","cursor-pointer",3,"click"]],template:function(i,c){if(1&i&&(t.j41(0,"div",0)(1,"label",1)(2,"span",2),t.EFF(3,"Search"),t.k0s()(),t.j41(4,"div",3),t.nrm(5,"input",4),t.k0s(),t.j41(6,"div",5)(7,"div",6),t.Z7z(8,x,2,1,"div",7,t.fX1),t.nVh(10,v,2,0),t.nI1(11,"async"),t.k0s(),t.nrm(12,"div",8),t.k0s(),t.j41(13,"button",9),t.bIt("click",function(){return c.clearSearchTerm()}),t.EFF(14," X "),t.k0s()()),2&i){let n;t.R7$(5),t.Y8G("formControl",c.searchTerm),t.R7$(3),t.Dyx(c.quickSearchNumbers),t.R7$(2),t.vxM((n=t.bMT(11,2,c.selectProductShortcuts$))?10:-1,n)}},dependencies:[C.MD,f.YN,f.me,f.BC,f.X1,f.l_,C.Jj],encapsulation:2}))}return d(),s})()},8919:(j,y,r)=>{r.d(y,{L:()=>T});var C=r(2200),f=r(7067),e=r(142),F=r(6559),t=r(3664),g=r(2615),b=r(9640);function x(v,h){if(1&v){const d=t.RV6();t.j41(0,"div",0)(1,"hotel-cancel-order-confirm",1),t.nI1(2,"async"),t.bIt("btnClicked",function(){const u=g.eBV(d),o=t.XpG();return g.Njj(o.cancelOrder(u))}),t.k0s()()}if(2&v){const d=t.XpG();t.R7$(),t.Y8G("password",t.bMT(2,1,d.selectPassword$)??"1234")}}let T=(()=>{var v;class h{constructor(s){this.store=s,this.selectedOrderDetails$=this.store.select(e.selectOrderDetailsOfSelectedOrder),this.selectPassword$=this.store.select(F.W4)}cancelOrder(s){return console.log("cancel capture out of dialog"),this.store.dispatch((0,e.cancelOrder)({orderId:s.id,shouldPrint:!1})),"this. will send the action to store.s"}static#e=v=()=>(this.\u0275fac=function(u){return new(u||h)(t.rXU(b.il))},this.\u0275cmp=t.VBU({type:h,selectors:[["hotel-orderapp-order-feature-order-cancel"]],decls:2,vars:3,consts:[[1,"p-2"],["btnText","CANCEL ORDER",3,"btnClicked","password"]],template:function(u,o){if(1&u&&(t.nVh(0,x,3,3,"div",0),t.nI1(1,"async")),2&u){let i;t.vxM((i=t.bMT(1,1,o.selectedOrderDetails$))?0:-1,i)}},dependencies:[C.MD,f.qX,C.Jj],encapsulation:2}))}return v(),h})()}}]);